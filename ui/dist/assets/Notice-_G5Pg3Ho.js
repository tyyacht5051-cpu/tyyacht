import{_ as w,c as a,a as p,b as e,k as u,F as v,e as g,t as c,n as y,l as N,m as h,v as b,p as f,h as _,q as k,s as I,u as C,f as l}from"./index-fXz6EMut.js";const D={name:"Notice",setup(){return{toast:C()}},data(){return{authStore:I,showWriteForm:!1,newNotice:{title:"",content:"",categoryId:"",important:!1},selectedImages:[],categories:[{id:"exemption",title:"ë©´ì œêµìœ¡",description:"ìš”íŠ¸ë©´í—ˆ ë©´ì œêµìœ¡ ê´€ë ¨ ê³µì§€ì‚¬í•­",icon:"ğŸ“‹",count:8,latestDate:"2024-03-15",path:"/notice/exemption"},{id:"cruise",title:"í¬ë£¨ì¦ˆìš”íŠ¸",description:"í¬ë£¨ì¦ˆìš”íŠ¸ êµìœ¡ ë° ì²´í—˜ ê´€ë ¨ ê³µì§€",icon:"â›µ",count:12,latestDate:"2024-03-14",path:"/notice/cruise"},{id:"dinghy",title:"ë”©ê¸°ìš”íŠ¸",description:"ë”©ê¸°ìš”íŠ¸ êµìœ¡ ë° ì²´í—˜ ê´€ë ¨ ê³µì§€",icon:"ğŸš¤",count:6,latestDate:"2024-03-13",path:"/notice/dinghy"},{id:"recruitment",title:"ì±„ìš©",description:"ì§ì› ì±„ìš© ë° ëª¨ì§‘ ê³µê³ ",icon:"ğŸ‘¥",count:3,latestDate:"2024-03-10",path:"/notice/recruitment"},{id:"others",title:"ê¸°íƒ€",description:"ê¸°íƒ€ ì¼ë°˜ ê³µì§€ì‚¬í•­",icon:"ğŸ“¢",count:15,latestDate:"2024-03-16",path:"/notice/others"}],recentNotices:[{id:1,title:"2024ë…„ ìƒë°˜ê¸° ìš”íŠ¸ë©´í—ˆ ë©´ì œêµìœ¡ ì¼ì • ì•ˆë‚´",content:"2024ë…„ ìƒë°˜ê¸° ìš”íŠ¸ë©´í—ˆ ë©´ì œêµìœ¡ ì¼ì •ì„ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤...",category:"ë©´ì œêµìœ¡",categoryClass:"exemption",date:"2024-03-16",views:156,important:!0,images:[]},{id:2,title:"í¬ë£¨ì¦ˆìš”íŠ¸ ì²´í—˜ í”„ë¡œê·¸ë¨ ìš”ê¸ˆ ë³€ê²½ ì•ˆë‚´",content:"2024ë…„ 4ì›”ë¶€í„° í¬ë£¨ì¦ˆìš”íŠ¸ ì²´í—˜ í”„ë¡œê·¸ë¨ ìš”ê¸ˆì´ ì¡°ì •ë©ë‹ˆë‹¤...",category:"í¬ë£¨ì¦ˆìš”íŠ¸",categoryClass:"cruise",date:"2024-03-15",views:89,important:!1},{id:3,title:"ë”©ê¸°ìš”íŠ¸ êµìœ¡ ì•ˆì „ìˆ˜ì¹™ ì—…ë°ì´íŠ¸",content:"ë”©ê¸°ìš”íŠ¸ êµìœ¡ ì‹œ ì¤€ìˆ˜í•´ì•¼ í•  ì•ˆì „ìˆ˜ì¹™ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤...",category:"ë”©ê¸°ìš”íŠ¸",categoryClass:"dinghy",date:"2024-03-14",views:67,important:!1},{id:4,title:"í†µì˜ìš”íŠ¸í•™êµ ê°•ì‚¬ ì±„ìš© ê³µê³ ",content:"í†µì˜ìš”íŠ¸í•™êµì—ì„œ ìš”íŠ¸ êµìœ¡ ê°•ì‚¬ë¥¼ ëª¨ì§‘í•©ë‹ˆë‹¤...",category:"ì±„ìš©",categoryClass:"recruitment",date:"2024-03-13",views:234,important:!0},{id:5,title:"ë´„ì²  ìš”íŠ¸ ì²´í—˜ í”„ë¡œê·¸ë¨ ìš´ì˜ ì•ˆë‚´",content:"ë´„ì² ì„ ë§ì´í•˜ì—¬ íŠ¹ë³„ ìš”íŠ¸ ì²´í—˜ í”„ë¡œê·¸ë¨ì„ ìš´ì˜í•©ë‹ˆë‹¤...",category:"ê¸°íƒ€",categoryClass:"others",date:"2024-03-12",views:123,important:!1}]}},computed:{isAdmin(){return this.authStore.state.isAuthenticated&&this.authStore.state.user?.role==="admin"}},methods:{goToCategory(o){this.$router.push(o)},viewNotice(o){},submitNotice(){if(!this.newNotice.title||!this.newNotice.content||!this.newNotice.categoryId){this.toast.warning("ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.","âœï¸ ì…ë ¥ í™•ì¸");return}const o=this.categories.find(n=>n.id===this.newNotice.categoryId),t={id:Math.max(...this.recentNotices.map(n=>n.id))+1,title:this.newNotice.title,content:this.newNotice.content,category:o.title,categoryClass:this.newNotice.categoryId,date:new Date().toISOString().split("T")[0],views:0,important:this.newNotice.important,images:this.selectedImages.map(n=>n.preview)};this.recentNotices.unshift(t),o.count++,o.latestDate=t.date,this.showWriteForm=!1,this.newNotice={title:"",content:"",categoryId:"",important:!1},this.selectedImages=[],this.$refs.imageFileInput&&(this.$refs.imageFileInput.value=""),this.toast.celebrate("ê³µì§€ì‚¬í•­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.","ğŸ“¢ ê³µì§€ ë“±ë¡ ì™„ë£Œ")},handleImageSelection(o){const t=Array.from(o.target.files);if(t.length>3){this.toast.warning("ìµœëŒ€ 3ê°œì˜ ì´ë¯¸ì§€ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.","ğŸ–¼ï¸ ì´ë¯¸ì§€ ì œí•œ");return}this.selectedImages=[],t.forEach(n=>{if(n.size>5*1024*1024){this.toast.error(`${n.name}ì€(ëŠ”) íŒŒì¼ í¬ê¸°ê°€ 5MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.`,"âš ï¸ íŒŒì¼ í¬ê¸° ì´ˆê³¼");return}if(!n.type.startsWith("image/")){this.toast.error(`${n.name}ì€(ëŠ”) ì´ë¯¸ì§€ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.`,"âš ï¸ íŒŒì¼ í˜•ì‹ ì˜¤ë¥˜");return}const d=new FileReader;d.onload=i=>{this.selectedImages.push({file:n,name:n.name,size:n.size,preview:i.target.result})},d.readAsDataURL(n)})},removeImage(o){this.selectedImages.splice(o,1)},formatFileSize(o){if(o===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(o)/Math.log(t));return parseFloat((o/Math.pow(t,d)).toFixed(2))+" "+n[d]},manageNotices(){this.$router.push("/admin")},formatDate(o){const t=new Date(o),d=new Date-t,i=Math.floor(d/(1e3*60*60*24));return i===0?"ì˜¤ëŠ˜":i===1?"ì–´ì œ":i<7?`${i}ì¼ ì „`:t.toLocaleDateString("ko-KR")},isNewNotice(o){const t=new Date(o),d=new Date-t;return Math.floor(d/(1e3*60*60*24))<=3}}},x={class:"notice"},F={class:"content-section"},S={class:"container"},M={class:"notice-categories"},B={class:"categories-grid"},z=["onClick"],A={class:"category-icon"},T={class:"category-info"},V={class:"post-count"},W={key:0,class:"latest-date"},U={class:"recent-notices"},q={class:"notices-table"},G=["onClick"],E={class:"col-category"},L={class:"col-title"},R={class:"title-text"},K={key:0,class:"new-badge"},P={key:1,class:"important-badge"},J={class:"col-date"},O={class:"col-views"},j={key:0,class:"user-info-section"},H={key:1,class:"admin-section"},Q={class:"admin-buttons"},X={key:2,class:"write-form"},Y={class:"form-header"},Z={class:"form-group"},$=["value"],tt={class:"form-group"},et={class:"form-group"},st={class:"form-group"},it={key:0,class:"selected-images"},ot={class:"image-list"},nt={class:"image-preview"},at=["src","alt"],lt={class:"image-info"},rt={class:"image-name"},ct={class:"image-size"},dt=["onClick"],ut={class:"form-group"},mt={class:"checkbox-label"},vt={class:"form-actions"};function gt(o,t,n,d,i,r){return l(),a("div",x,[t[26]||(t[26]=p('<section class="hero-section" data-v-91811749><div class="hero-background" data-v-91811749></div><div class="hero-overlay" data-v-91811749></div><div class="hero-content" data-v-91811749><h1 class="hero-title" data-v-91811749>ê³µì§€ì‚¬í•­</h1><p class="hero-subtitle" data-v-91811749>í†µì˜ìš”íŠ¸í•™êµì˜ ì¤‘ìš”í•œ ì†Œì‹ê³¼ ê³µì§€ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”</p></div></section>',1)),e("section",F,[e("div",S,[t[25]||(t[25]=e("div",{class:"notice-overview"},[e("h2",null,"ê³µì§€ì‚¬í•­ ì•ˆë‚´"),e("p",null," ê° ë¶„ì•¼ë³„ ê³µì§€ì‚¬í•­ê³¼ ì¤‘ìš”í•œ ì•Œë¦¼ì‚¬í•­ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì†Œì‹ì€ ì •ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ")],-1)),e("div",M,[e("div",B,[(l(!0),a(v,null,g(i.categories,s=>(l(),a("div",{class:"category-card",key:s.id,onClick:m=>r.goToCategory(s.path)},[e("div",A,c(s.icon),1),e("h3",null,c(s.title),1),e("p",null,c(s.description),1),e("div",T,[e("span",V,c(s.count)+"ê°œ ê²Œì‹œë¬¼",1),s.latestDate?(l(),a("span",W,"ìµœê·¼ "+c(s.latestDate),1)):u("",!0)])],8,z))),128))])]),e("div",U,[t[11]||(t[11]=e("h2",null,"ìµœê·¼ ê³µì§€ì‚¬í•­",-1)),e("div",q,[t[10]||(t[10]=p('<div class="table-header" data-v-91811749><div class="col-category" data-v-91811749>ë¶„ë¥˜</div><div class="col-title" data-v-91811749>ì œëª©</div><div class="col-date" data-v-91811749>ì‘ì„±ì¼</div><div class="col-views" data-v-91811749>ì¡°íšŒ</div></div>',1)),(l(!0),a(v,null,g(i.recentNotices,s=>(l(),a("div",{key:s.id,class:"table-row",onClick:m=>r.viewNotice(s)},[e("div",E,[e("span",{class:y(["category-badge",s.categoryClass])},c(s.category),3)]),e("div",L,[e("span",R,c(s.title),1),r.isNewNotice(s.date)?(l(),a("span",K,"NEW")):u("",!0),s.important?(l(),a("span",P,"ì¤‘ìš”")):u("",!0)]),e("div",J,c(r.formatDate(s.date)),1),e("div",O,c(s.views),1)],8,G))),128))])]),!r.isAdmin&&i.authStore.state.isAuthenticated?(l(),a("div",j,t[12]||(t[12]=[e("div",{class:"info-box"},[e("div",{class:"info-icon"},"ğŸ“–"),e("div",{class:"info-text"},[e("h3",null,"ê³µì§€ì‚¬í•­ ì•ˆë‚´"),e("p",null,"ê³µì§€ì‚¬í•­ì€ ê´€ë¦¬ìê°€ ì‘ì„±í•œ ì¤‘ìš”í•œ ì†Œì‹ì…ë‹ˆë‹¤. ëª¨ë“  ê³µì§€ì‚¬í•­ì„ ììœ ë¡­ê²Œ ì—´ëŒí•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")])],-1)]))):u("",!0),r.isAdmin?(l(),a("div",H,[t[13]||(t[13]=e("h2",null,"ê´€ë¦¬ì ê¸°ëŠ¥",-1)),e("div",Q,[e("button",{class:"admin-btn write-btn",onClick:t[0]||(t[0]=s=>i.showWriteForm=!0)}," âœï¸ ê³µì§€ì‚¬í•­ ì‘ì„± "),e("button",{class:"admin-btn manage-btn",onClick:t[1]||(t[1]=(...s)=>r.manageNotices&&r.manageNotices(...s))}," ğŸ—‚ï¸ ê³µì§€ì‚¬í•­ ê´€ë¦¬ ")])])):u("",!0),i.showWriteForm&&r.isAdmin?(l(),a("div",X,[e("div",Y,[t[14]||(t[14]=e("h3",null,"ê³µì§€ì‚¬í•­ ì‘ì„±",-1)),e("button",{class:"close-btn",onClick:t[2]||(t[2]=s=>i.showWriteForm=!1)},"âœ•")]),e("form",{onSubmit:t[9]||(t[9]=N((...s)=>r.submitNotice&&r.submitNotice(...s),["prevent"]))},[e("div",Z,[t[16]||(t[16]=e("label",null,"ë¶„ë¥˜",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.newNotice.categoryId=s),required:""},[t[15]||(t[15]=e("option",{value:""},"ë¶„ë¥˜ ì„ íƒ",-1)),(l(!0),a(v,null,g(i.categories,s=>(l(),a("option",{key:s.id,value:s.id},c(s.title),9,$))),128))],512),[[b,i.newNotice.categoryId]])]),e("div",tt,[t[17]||(t[17]=e("label",null,"ì œëª©",-1)),h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.newNotice.title=s),type:"text",required:""},null,512),[[f,i.newNotice.title]])]),e("div",et,[t[18]||(t[18]=e("label",null,"ë‚´ìš©",-1)),h(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>i.newNotice.content=s),rows:"10",required:""},null,512),[[f,i.newNotice.content]])]),e("div",st,[t[19]||(t[19]=e("label",null,"ì´ë¯¸ì§€ ì²¨ë¶€",-1)),e("input",{type:"file",accept:"image/*",multiple:"",onChange:t[6]||(t[6]=(...s)=>r.handleImageSelection&&r.handleImageSelection(...s)),ref:"imageFileInput"},null,544),t[20]||(t[20]=e("small",null,"ì§€ì› í˜•ì‹: JPG, PNG, GIF (ìµœëŒ€ 5MB, ìµœëŒ€ 3ê°œ íŒŒì¼)",-1))]),i.selectedImages.length>0?(l(),a("div",it,[t[21]||(t[21]=e("h4",null,"ì„ íƒëœ ì´ë¯¸ì§€:",-1)),e("div",ot,[(l(!0),a(v,null,g(i.selectedImages,(s,m)=>(l(),a("div",{key:m,class:"image-item"},[e("div",nt,[e("img",{src:s.preview,alt:s.name},null,8,at)]),e("div",lt,[e("span",rt,c(s.name),1),e("span",ct,c(r.formatFileSize(s.size)),1)]),e("button",{type:"button",onClick:ht=>r.removeImage(m),class:"remove-image"},"âœ•",8,dt)]))),128))])])):u("",!0),e("div",ut,[e("label",mt,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>i.newNotice.important=s)},null,512),[[k,i.newNotice.important]]),t[22]||(t[22]=e("span",{class:"checkmark"},null,-1)),t[23]||(t[23]=_(" ì¤‘ìš” ê³µì§€ì‚¬í•­ ",-1))])]),e("div",vt,[e("button",{type:"button",class:"cancel-btn",onClick:t[8]||(t[8]=s=>i.showWriteForm=!1)}," ì·¨ì†Œ "),t[24]||(t[24]=e("button",{type:"submit",class:"submit-btn"},"ë“±ë¡",-1))])],32)])):u("",!0)])])])}const ft=w(D,[["render",gt],["__scopeId","data-v-91811749"]]);export{ft as default};
