import{d as V,y as A,r as h,c as r,b as a,k as d,m as v,p as m,n as c,t as u,v as b,F as $,e as q,h as _,q as E,l as U,x as F,A as S,u as M,f as i,_ as k,a as N,g as R,i as B}from"./index-fXz6EMut.js";const w={class:"grid grid-2"},I={class:"form-group"},L={key:0,class:"form-error"},O={class:"form-group"},j={key:0,class:"form-error"},z={class:"grid grid-2"},P={class:"form-group"},G={key:0,class:"form-error"},H={class:"form-group"},J={key:0,class:"form-error"},K={class:"form-group"},Q={key:0,class:"form-error"},W={class:"form-group"},X={key:0,class:"form-error"},Y={class:"form-group"},Z={key:0,class:"form-error"},ee={key:0,class:"form-group"},ae=["value"],se={key:0,class:"form-error"},oe={class:"form-group"},le={class:"checkbox-item privacy-agreement"},te={key:0,class:"form-error"},re={class:"form-actions"},ie=["disabled"],de=["disabled"],ne={key:0,class:"loading-spinner"},ue=V({__name:"EducationForm",setup(C){const n=M(),s=A({name:"",birthDate:"",gender:"",phone:"",email:"",location:"",courseType:"",subCourse:"",privacyAgreed:!1}),o=h({}),p=h(!1),y={크루즈요트교육:[{value:"크루즈-초급과정",label:"초급과정 (10만원)"},{value:"크루즈-중급과정",label:"중급과정 (20만원)"},{value:"크루즈-고급과정",label:"고급과정 (30만원)"},{value:"섬간항해보육",label:"섬 간(코스탈 레이스) 항해교육 1박2일(30만원)"},{value:"섬간항해보육",label:"섬 간(코스탈 레이스) 항해교육 2박3일(45만원)"}],딩기요트교육:[{value:"딩기요트-토파즈 우노 기초",label:"토파즈 우노 기초 (7만원, 7시간)"},{value:"딩기요트-토파즈 우노 중급",label:"토파즈 우노 중급 (7만원, 7시간)"},{value:"딩기요트-토파즈 우노 고급",label:"토파즈 우노 고급 (7만원, 7시간)"},{value:"딩기요트-토파즈 오메가",label:"토파즈 오메가 (문의 필요)"},{value:"딩기요트-호비 겟어웨이",label:"호비 겟어웨이 (문의 필요)"}]},f=l=>y[l]||[],x=()=>{s.subCourse="",delete o.value.subCourse},T=async()=>{if(D()){p.value=!0;try{const l={name:s.name,phone:s.phone,email:s.email||"",birthDate:s.birthDate,gender:s.gender,address:s.location,license:"",courseType:s.subCourse||s.courseType,preferredDates:[],discountEligibility:"",experience:"none",motivation:""},e=await F.post(`${S}/api/applications/education`,l);e.status===201&&(n.success(e.data.message||"요트교육 신청이 성공적으로 접수되었습니다!","신청 완료"),g())}catch(l){if(console.error("Education application error:",l),l.response?.status===400){const e=l.response.data?.error||"입력 정보를 확인해주세요.";n.error(e,"입력 오류")}else l.response?.status===500?n.error("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.","서버 오류"):n.error("신청 중 오류가 발생했습니다. 다시 시도해주세요.","신청 오류")}finally{p.value=!1}}},D=()=>{o.value={};let l=!0;return s.name.trim()||(o.value.name="이름을 입력해주세요.",l=!1),s.birthDate||(o.value.birthDate="생년월일을 선택해주세요.",l=!1),s.gender||(o.value.gender="성별을 선택해주세요.",l=!1),s.phone.trim()?/^01[016789]-?\d{3,4}-?\d{4}$/.test(s.phone.replace(/-/g,""))||(o.value.phone="올바른 연락처 형식으로 입력해주세요.",l=!1):(o.value.phone="연락처를 입력해주세요.",l=!1),s.email.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(o.value.email="올바른 이메일 형식으로 입력해주세요.",l=!1)),s.location.trim()||(o.value.location="소재지를 입력해주세요.",l=!1),s.courseType||(o.value.courseType="교육과정을 선택해주세요.",l=!1),s.courseType&&!s.subCourse&&(o.value.subCourse="세부 교육과정을 선택해주세요.",l=!1),s.privacyAgreed||(o.value.privacyAgreed="개인정보 처리 동의는 필수입니다.",l=!1),l||n.error("입력 정보를 확인해주세요.","입력 오류"),l},g=()=>{Object.assign(s,{name:"",birthDate:"",gender:"",phone:"",email:"",location:"",courseType:"",subCourse:"",privacyAgreed:!1}),o.value={}};return(l,e)=>(i(),r("form",{onSubmit:U(T,["prevent"]),class:"application-form"},[e[22]||(e[22]=a("div",{class:"form-section-title"},[a("h4",null,"대표자 정보")],-1)),a("div",w,[a("div",I,[e[9]||(e[9]=a("label",{class:"form-label"},"이름 *",-1)),v(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>s.name=t),class:c(["form-control",{error:o.value.name}]),placeholder:"대표자 성함을 입력하세요",required:""},null,2),[[m,s.name]]),o.value.name?(i(),r("div",L,u(o.value.name),1)):d("",!0)]),a("div",O,[e[10]||(e[10]=a("label",{class:"form-label"},"생년월일 *",-1)),v(a("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=t=>s.birthDate=t),class:c(["form-control",{error:o.value.birthDate}]),required:""},null,2),[[m,s.birthDate]]),o.value.birthDate?(i(),r("div",j,u(o.value.birthDate),1)):d("",!0)])]),a("div",z,[a("div",P,[e[12]||(e[12]=a("label",{class:"form-label"},"성별 *",-1)),v(a("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.gender=t),class:c(["form-control form-select",{error:o.value.gender}]),required:""},e[11]||(e[11]=[a("option",{value:""},"선택하세요",-1),a("option",{value:"male"},"남성",-1),a("option",{value:"female"},"여성",-1)]),2),[[b,s.gender]]),o.value.gender?(i(),r("div",G,u(o.value.gender),1)):d("",!0)]),a("div",H,[e[13]||(e[13]=a("label",{class:"form-label"},"연락처 *",-1)),v(a("input",{type:"tel","onUpdate:modelValue":e[3]||(e[3]=t=>s.phone=t),class:c(["form-control",{error:o.value.phone}]),placeholder:"010-0000-0000",required:""},null,2),[[m,s.phone]]),o.value.phone?(i(),r("div",J,u(o.value.phone),1)):d("",!0)])]),a("div",K,[e[14]||(e[14]=a("label",{class:"form-label"},"이메일",-1)),v(a("input",{type:"email","onUpdate:modelValue":e[4]||(e[4]=t=>s.email=t),class:c(["form-control",{error:o.value.email}]),placeholder:"example@email.com (선택사항)"},null,2),[[m,s.email]]),o.value.email?(i(),r("div",Q,u(o.value.email),1)):d("",!0)]),a("div",W,[e[15]||(e[15]=a("label",{class:"form-label"},"소재지 *",-1)),v(a("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>s.location=t),class:c(["form-control",{error:o.value.location}]),placeholder:"예: 경상남도 통영시",required:""},null,2),[[m,s.location]]),o.value.location?(i(),r("div",X,u(o.value.location),1)):d("",!0)]),e[23]||(e[23]=a("div",{class:"form-section-title"},[a("h4",null,"교육 프로그램")],-1)),a("div",Y,[e[17]||(e[17]=a("label",{class:"form-label"},"신청 교육과정 *",-1)),v(a("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>s.courseType=t),class:c(["form-control form-select",{error:o.value.courseType}]),onChange:x,required:""},e[16]||(e[16]=[a("option",{value:""},"선택하세요",-1),a("option",{value:"크루즈요트교육"},"크루즈 요트 교육",-1),a("option",{value:"딩기요트교육"},"딩기 요트 교육",-1)]),34),[[b,s.courseType]]),o.value.courseType?(i(),r("div",Z,u(o.value.courseType),1)):d("",!0)]),s.courseType?(i(),r("div",ee,[e[19]||(e[19]=a("label",{class:"form-label"},"세부 교육과정 *",-1)),v(a("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>s.subCourse=t),class:c(["form-control form-select",{error:o.value.subCourse}]),required:""},[e[18]||(e[18]=a("option",{value:""},"선택하세요",-1)),(i(!0),r($,null,q(f(s.courseType),t=>(i(),r("option",{key:t.value,value:t.value},u(t.label),9,ae))),128))],2),[[b,s.subCourse]]),o.value.subCourse?(i(),r("div",se,u(o.value.subCourse),1)):d("",!0)])):d("",!0),a("div",oe,[a("label",le,[v(a("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=t=>s.privacyAgreed=t),class:c({error:o.value.privacyAgreed}),required:""},null,2),[[E,s.privacyAgreed]]),e[20]||(e[20]=a("span",{class:"checkmark"},null,-1)),e[21]||(e[21]=_(" 개인정보 수집 및 이용에 동의합니다 * ",-1))]),o.value.privacyAgreed?(i(),r("div",te," 개인정보 처리 동의는 필수입니다 ")):d("",!0)]),a("div",re,[a("button",{type:"button",onClick:g,class:"btn btn-secondary",disabled:p.value}," 초기화 ",8,ie),a("button",{type:"submit",class:"btn btn-primary",disabled:p.value},[p.value?(i(),r("span",ne)):d("",!0),_(" "+u(p.value?"제출 중...":"교육 신청"),1)],8,de)])],32))}}),ve=k(ue,[["__scopeId","data-v-b8c574a4"]]),ce={name:"EducationApply",components:{EducationForm:ve}},pe={class:"page-content"},me={class:"container"},fe={class:"education-apply"},be={class:"form-section"},ye={class:"card"},ge={class:"card-body"};function he(C,n,s,o,p,y){const f=B("EducationForm");return i(),r("div",pe,[a("div",me,[a("div",fe,[n[1]||(n[1]=N('<div class="page-header" data-v-2aed444d><h1 class="section-title" data-v-2aed444d>요트교육 신청</h1><p class="section-subtitle" data-v-2aed444d>요트면허 취득을 위한 교육 프로그램에 참여하세요</p></div><div class="info-section" data-v-2aed444d><div class="card" data-v-2aed444d><div class="card-header" data-v-2aed444d><h3 data-v-2aed444d>교육 프로그램 소개</h3></div><div class="card-body" data-v-2aed444d><div class="grid grid-2" data-v-2aed444d><div class="qualification-item" data-v-2aed444d><div class="qualification-icon" data-v-2aed444d><i class="fas fa-ship" data-v-2aed444d></i></div><h4 data-v-2aed444d>크루즈 요트 교육</h4><p data-v-2aed444d>대형 요트 면허 취득을 위한 전문 교육</p></div><div class="qualification-item" data-v-2aed444d><div class="qualification-icon" data-v-2aed444d><i class="fas fa-sailboat" data-v-2aed444d></i></div><h4 data-v-2aed444d>딩기 요트 교육</h4><p data-v-2aed444d>소형 요트 면허 취득을 위한 실전 교육</p></div></div></div></div></div>',2)),a("div",be,[a("div",ye,[n[0]||(n[0]=a("div",{class:"card-header"},[a("h3",null,"교육 신청서 작성")],-1)),a("div",ge,[R(f)])])])])])])}const ke=k(ce,[["render",he],["__scopeId","data-v-2aed444d"]]);export{ke as default};
