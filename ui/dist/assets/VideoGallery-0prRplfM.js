import{_ as y,c as n,a as V,b as t,k as c,F as v,e as m,n as b,t as d,l as p,m as h,p as f,v as w,s as k,u as F,f as a}from"./index-fXz6EMut.js";const C={name:"VideoGallery",setup(){return{toast:F()}},data(){return{authStore:k,activeCategory:"all",showUploadForm:!1,selectedVideo:null,newVideo:{title:"",description:"",categoryId:""},selectedVideoFile:null,selectedThumbnail:null,categories:[{id:"all",name:"ì „ì²´",count:12},{id:"cruise-education",name:"í¬ë£¨ì¦ˆ ìš”íŠ¸ êµìœ¡",count:4},{id:"cruise-experience",name:"í¬ë£¨ì¦ˆ ìš”íŠ¸ ì²´í—˜",count:3},{id:"dinghy-education",name:"ë”©ê¸° ìš”íŠ¸ êµìœ¡",count:3},{id:"dinghy-experience",name:"ë”©ê¸° ìš”íŠ¸ ì²´í—˜",count:1},{id:"paddleboard",name:"íŒ¨ë“¤ë³´ë“œ ì²´í—˜",count:1}],videos:[{id:1,title:"í¬ë£¨ì¦ˆ ìš”íŠ¸ êµìœ¡ í•˜ì´ë¼ì´íŠ¸",description:"í¬ë£¨ì¦ˆ ìš”íŠ¸ êµìœ¡ ê³¼ì •ì˜ ì£¼ìš” ë‚´ìš©ì„ ë‹´ì€ ì˜ìƒì…ë‹ˆë‹¤. ê¸°ì´ˆ ì´ë¡ ë¶€í„° ì‹¤ìŠµê¹Œì§€ ì „ ê³¼ì •ì„ í™•ì¸í•˜ì„¸ìš”.",categoryId:"cruise-education",date:"2024-03-15",duration:"10:32",views:245,url:"/videos/sample1.mp4"},{id:2,title:"ë”©ê¸° ìš”íŠ¸ ì¡°ì¢… ê¸°ì´ˆ",description:"ë”©ê¸° ìš”íŠ¸ì˜ ê¸°ë³¸ ì¡°ì¢…ë²•ê³¼ ì•ˆì „ ìˆ˜ì¹™ì„ ë°°ì›Œë³´ëŠ” êµìœ¡ ì˜ìƒì…ë‹ˆë‹¤.",categoryId:"dinghy-education",date:"2024-03-14",duration:"8:45",views:189,url:"/videos/sample2.mp4"},{id:3,title:"ê°€ì¡±ê³¼ í•¨ê»˜í•˜ëŠ” ìš”íŠ¸ ì²´í—˜",description:"ê°€ì¡± ë‹¨ìœ„ë¡œ ì°¸ì—¬í•œ ìš”íŠ¸ ì²´í—˜ í”„ë¡œê·¸ë¨ì˜ ì¦ê±°ìš´ ìˆœê°„ë“¤ì„ ë‹´ì•˜ìŠµë‹ˆë‹¤.",categoryId:"cruise-experience",date:"2024-03-13",duration:"12:18",views:156,url:"/videos/sample3.mp4"},{id:4,title:"íŒ¨ë“¤ë³´ë“œ ì²´í—˜ í˜„ì¥",description:"ì²­ì • ë°”ë‹¤ì—ì„œ ì¦ê¸°ëŠ” íŒ¨ë“¤ë³´ë“œ ì²´í—˜ì˜ ìƒìƒí•œ í˜„ì¥ì„ ë§Œë‚˜ë³´ì„¸ìš”.",categoryId:"paddleboard",date:"2024-03-12",duration:"6:22",views:98,url:"/videos/sample4.mp4"}]}},computed:{filteredVideos(){return this.activeCategory==="all"?this.videos:this.videos.filter(s=>s.categoryId===this.activeCategory)},isAdmin(){return this.authStore.state.isAuthenticated&&this.authStore.isAdmin()}},methods:{setActiveCategory(s){this.activeCategory=s},getCategoryName(s){const e=this.categories.find(r=>r.id===s);return e?e.name:""},playVideo(s){this.selectedVideo=s,s.views++},closeModal(){this.selectedVideo=null},uploadVideo(){if(!this.selectedVideoFile){this.toast.warning("ë™ì˜ìƒì„ ì„ íƒí•´ì£¼ì„¸ìš”.","ğŸ¥ ë™ì˜ìƒ ì„ íƒ í•„ìš”");return}if(!this.newVideo.title||!this.newVideo.categoryId){this.toast.warning("ì œëª©ê³¼ ì¹´í…Œê³ ë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.","âœï¸ ì •ë³´ ì…ë ¥ í•„ìš”");return}const s={id:Math.max(...this.videos.map(e=>e.id))+1,title:this.newVideo.title,description:this.newVideo.description,categoryId:this.newVideo.categoryId,date:new Date().toISOString().split("T")[0],duration:this.generateRandomDuration(),views:0,url:this.selectedThumbnail||"/videos/placeholder.mp4"};this.videos.unshift(s),this.updateCategoryCounts(),this.showUploadForm=!1,this.newVideo={title:"",description:"",categoryId:""},this.selectedVideoFile=null,this.selectedThumbnail=null,this.$refs.videoFileInput.value="",this.$refs.thumbnailFileInput&&(this.$refs.thumbnailFileInput.value=""),this.toast.celebrate("ë™ì˜ìƒì´ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.","ğŸ¥ ë™ì˜ìƒ ì—…ë¡œë“œ ì™„ë£Œ")},handleVideoFileSelection(s){const e=s.target.files[0];if(e){if(e.size>100*1024*1024){this.toast.error("ë™ì˜ìƒ íŒŒì¼ í¬ê¸°ê°€ 100MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.","âš ï¸ íŒŒì¼ í¬ê¸° ì´ˆê³¼");return}if(!e.type.startsWith("video/")){this.toast.error("ë™ì˜ìƒ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.","âš ï¸ íŒŒì¼ í˜•ì‹ ì˜¤ë¥˜");return}this.selectedVideoFile=e}},handleThumbnailSelection(s){const e=s.target.files[0];if(!e)return;if(!e.type.startsWith("image/")){this.toast.error("ì´ë¯¸ì§€ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.","âš ï¸ íŒŒì¼ í˜•ì‹ ì˜¤ë¥˜");return}if(e.size>5*1024*1024){this.toast.error("ì¸ë„¤ì¼ ì´ë¯¸ì§€ í¬ê¸°ê°€ 5MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.","âš ï¸ ì¸ë„¤ì¼ í¬ê¸° ì´ˆê³¼");return}const r=new FileReader;r.onload=u=>{this.selectedThumbnail=u.target.result},r.readAsDataURL(e)},removeVideoFile(){this.selectedVideoFile=null,this.selectedThumbnail=null,this.$refs.videoFileInput.value="",this.$refs.thumbnailFileInput&&(this.$refs.thumbnailFileInput.value="")},formatFileSize(s){if(s===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,u)).toFixed(2))+" "+r[u]},generateRandomDuration(){const s=Math.floor(Math.random()*15)+1,e=Math.floor(Math.random()*60);return`${s}:${e.toString().padStart(2,"0")}`},updateCategoryCounts(){this.categories.forEach(s=>{s.id==="all"?s.count=this.videos.length:s.count=this.videos.filter(e=>e.categoryId===s.id).length})},manageVideos(){},goBack(){this.$router.push("/community")}},mounted(){document.addEventListener("keydown",s=>{s.key==="Escape"&&this.selectedVideo&&this.closeModal()})}},_={class:"video-gallery"},I={class:"content-section"},M={class:"container"},S={class:"gallery-categories"},B={class:"category-tabs"},T=["onClick"],x={class:"video-grid"},U=["onClick"],A={class:"video-container"},z={class:"video-thumbnail"},D={class:"duration-badge"},N={class:"video-info"},E={class:"video-meta"},R={class:"date"},G={class:"views"},L={class:"category"},q={key:0,class:"empty-state"},O={key:1,class:"admin-section"},W={class:"admin-buttons"},K={key:2,class:"upload-form"},P={class:"form-header"},j={class:"form-group"},H={class:"form-group"},J={class:"form-group"},Q=["value"],X={class:"form-group"},Y={class:"form-group"},Z={key:0,class:"selected-video"},$={class:"video-item"},ee={class:"video-preview"},te=["src"],ie={key:1,class:"no-preview"},se={class:"video-info"},le={class:"video-name"},oe={class:"video-size"},de={class:"form-actions"},ne={class:"modal-header"},ae={class:"video-player"},re={class:"player-placeholder"},ue={class:"modal-info"},ce={class:"modal-meta"},ve={class:"back-button"};function me(s,e,r,u,l,o){return a(),n("div",_,[e[32]||(e[32]=V('<section class="hero-section" data-v-357af85d><div class="hero-background" data-v-357af85d></div><div class="hero-overlay" data-v-357af85d></div><div class="hero-content" data-v-357af85d><h1 class="hero-title" data-v-357af85d>ë™ì˜ìƒê°¤ëŸ¬ë¦¬</h1><p class="hero-subtitle" data-v-357af85d>í†µì˜ìš”íŠ¸í•™êµì˜ ìƒìƒí•œ ì˜ìƒìœ¼ë¡œ í˜„ì¥ê°ì„ ëŠê»´ë³´ì„¸ìš”</p></div></section>',1)),t("section",I,[t("div",M,[e[31]||(e[31]=t("div",{class:"gallery-header"},[t("div",{class:"header-info"},[t("h2",null,"ë™ì˜ìƒ ê°¤ëŸ¬ë¦¬"),t("p",null,"ê´€ë¦¬ì ì „ìš© ê³µê°„ì…ë‹ˆë‹¤. ìš”íŠ¸ êµìœ¡ê³¼ ì²´í—˜ í™œë™ì˜ ì˜ìƒì„ ì‹œì²­í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")]),t("div",{class:"admin-notice"},[t("div",{class:"notice-icon"},"ğŸ”’"),t("span",null,"ê´€ë¦¬ì ì „ìš©")])],-1)),t("div",S,[t("div",B,[(a(!0),n(v,null,m(l.categories,i=>(a(),n("button",{key:i.id,class:b(["tab-button",{active:l.activeCategory===i.id}]),onClick:g=>o.setActiveCategory(i.id)},d(i.name)+" ("+d(i.count)+") ",11,T))),128))])]),t("div",x,[(a(!0),n(v,null,m(o.filteredVideos,i=>(a(),n("div",{key:i.id,class:"video-card",onClick:g=>o.playVideo(i)},[t("div",A,[t("div",z,[e[15]||(e[15]=t("div",{class:"thumbnail-placeholder"},[t("div",{class:"play-icon"},"â–¶")],-1)),t("div",D,d(i.duration),1)])]),t("div",N,[t("h4",null,d(i.title),1),t("p",null,d(i.description),1),t("div",E,[t("span",R,d(i.date),1),t("span",G,"ì¡°íšŒìˆ˜ "+d(i.views)+"íšŒ",1),t("span",L,d(o.getCategoryName(i.categoryId)),1)])])],8,U))),128))]),o.filteredVideos.length===0?(a(),n("div",q,e[16]||(e[16]=[t("div",{class:"empty-icon"},"ğŸ¥",-1),t("h3",null,"ì•„ì§ ë™ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤",-1),t("p",null,"ê´€ë¦¬ìê°€ ê³§ í¥ë¯¸ë¡œìš´ ì˜ìƒë“¤ì„ ì—…ë¡œë“œí•  ì˜ˆì •ì…ë‹ˆë‹¤.",-1)]))):c("",!0),o.isAdmin?(a(),n("div",O,[e[17]||(e[17]=t("h3",null,"ê´€ë¦¬ì ê¸°ëŠ¥",-1)),t("div",W,[t("button",{class:"admin-btn upload-btn",onClick:e[0]||(e[0]=i=>l.showUploadForm=!0)}," ğŸ¥ ë™ì˜ìƒ ì—…ë¡œë“œ "),t("button",{class:"admin-btn manage-btn",onClick:e[1]||(e[1]=(...i)=>o.manageVideos&&o.manageVideos(...i))}," ğŸ—‚ï¸ ë™ì˜ìƒ ê´€ë¦¬ ")])])):c("",!0),l.showUploadForm&&o.isAdmin?(a(),n("div",K,[t("div",P,[e[18]||(e[18]=t("h3",null,"ë™ì˜ìƒ ì—…ë¡œë“œ",-1)),t("button",{class:"close-btn",onClick:e[2]||(e[2]=i=>l.showUploadForm=!1)},"âœ•")]),t("form",{onSubmit:e[10]||(e[10]=p((...i)=>o.uploadVideo&&o.uploadVideo(...i),["prevent"]))},[t("div",j,[e[19]||(e[19]=t("label",null,"ì œëª©",-1)),h(t("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>l.newVideo.title=i),type:"text",required:""},null,512),[[f,l.newVideo.title]])]),t("div",H,[e[20]||(e[20]=t("label",null,"ì„¤ëª…",-1)),h(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=i=>l.newVideo.description=i),rows:"3"},null,512),[[f,l.newVideo.description]])]),t("div",J,[e[22]||(e[22]=t("label",null,"ì¹´í…Œê³ ë¦¬",-1)),h(t("select",{"onUpdate:modelValue":e[5]||(e[5]=i=>l.newVideo.categoryId=i),required:""},[e[21]||(e[21]=t("option",{value:""},"ì¹´í…Œê³ ë¦¬ ì„ íƒ",-1)),(a(!0),n(v,null,m(l.categories.filter(i=>i.id!=="all"),i=>(a(),n("option",{key:i.id,value:i.id},d(i.name),9,Q))),128))],512),[[w,l.newVideo.categoryId]])]),t("div",X,[e[23]||(e[23]=t("label",null,"ë™ì˜ìƒ íŒŒì¼",-1)),t("input",{type:"file",accept:"video/*",onChange:e[6]||(e[6]=(...i)=>o.handleVideoFileSelection&&o.handleVideoFileSelection(...i)),ref:"videoFileInput"},null,544),e[24]||(e[24]=t("small",null,"ì§€ì› í˜•ì‹: MP4, AVI, MOV (ìµœëŒ€ 100MB)",-1))]),t("div",Y,[e[25]||(e[25]=t("label",null,"ì¸ë„¤ì¼ ì´ë¯¸ì§€",-1)),t("input",{type:"file",accept:"image/*",onChange:e[7]||(e[7]=(...i)=>o.handleThumbnailSelection&&o.handleThumbnailSelection(...i)),ref:"thumbnailFileInput"},null,544),e[26]||(e[26]=t("small",null,"ë™ì˜ìƒ ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ (ì„ íƒì‚¬í•­)",-1))]),l.selectedVideoFile?(a(),n("div",Z,[e[27]||(e[27]=t("h4",null,"ì„ íƒëœ ë™ì˜ìƒ:",-1)),t("div",$,[t("div",ee,[l.selectedThumbnail?(a(),n("img",{key:0,src:l.selectedThumbnail,alt:"ì¸ë„¤ì¼"},null,8,te)):(a(),n("div",ie,"ğŸ¥"))]),t("div",se,[t("span",le,d(l.selectedVideoFile.name),1),t("span",oe,d(o.formatFileSize(l.selectedVideoFile.size)),1)]),t("button",{type:"button",onClick:e[8]||(e[8]=(...i)=>o.removeVideoFile&&o.removeVideoFile(...i)),class:"remove-file"},"âœ•")])])):c("",!0),t("div",de,[t("button",{type:"button",class:"cancel-btn",onClick:e[9]||(e[9]=i=>l.showUploadForm=!1)}," ì·¨ì†Œ "),e[28]||(e[28]=t("button",{type:"submit",class:"upload-btn"},"ì—…ë¡œë“œ",-1))])],32)])):c("",!0),l.selectedVideo?(a(),n("div",{key:3,class:"video-modal",onClick:e[13]||(e[13]=(...i)=>o.closeModal&&o.closeModal(...i))},[t("div",{class:"modal-content",onClick:e[12]||(e[12]=p(()=>{},["stop"]))},[t("div",ne,[t("h3",null,d(l.selectedVideo.title),1),t("button",{class:"close-btn",onClick:e[11]||(e[11]=(...i)=>o.closeModal&&o.closeModal(...i))},"âœ•")]),t("div",ae,[t("div",re,[e[29]||(e[29]=t("div",{class:"play-icon large"},"â–¶",-1)),t("p",null,d(l.selectedVideo.title),1),e[30]||(e[30]=t("small",null,"ì‹¤ì œ êµ¬í˜„ ì‹œ ì—¬ê¸°ì— ë™ì˜ìƒ í”Œë ˆì´ì–´ê°€ í‘œì‹œë©ë‹ˆë‹¤",-1))])]),t("div",ue,[t("p",null,d(l.selectedVideo.description),1),t("div",ce,[t("span",null,"ì—…ë¡œë“œ: "+d(l.selectedVideo.date),1),t("span",null,"ì¡°íšŒìˆ˜: "+d(l.selectedVideo.views)+"íšŒ",1),t("span",null,"ì¹´í…Œê³ ë¦¬: "+d(o.getCategoryName(l.selectedVideo.categoryId)),1)])])])])):c("",!0)])]),t("div",ve,[t("button",{onClick:e[14]||(e[14]=(...i)=>o.goBack&&o.goBack(...i)),class:"back-btn"}," â† ì»¤ë®¤ë‹ˆí‹°ë¡œ ëŒì•„ê°€ê¸° ")])])}const pe=y(C,[["render",me],["__scopeId","data-v-357af85d"]]);export{pe as default};
