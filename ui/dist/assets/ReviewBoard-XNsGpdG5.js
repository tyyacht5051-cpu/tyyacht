import{_ as f,c as a,a as b,b as e,k as _,F as c,e as u,n as d,h as C,t as n,p as v,q as g,s as k,v as w,l as m,A as y,f as r}from"./index-B24G-8VQ.js";const P={name:"ReviewBoard",data(){return{selectedCategory:"all",categories:[{id:"all",name:"ì „ì²´",icon:"ğŸ“‹",count:0},{id:"exemption",name:"ë©´ì œêµìœ¡",icon:"ğŸ“š",count:0},{id:"cruise",name:"í¬ë£¨ì¦ˆìš”íŠ¸",icon:"ğŸ›¥ï¸",count:0},{id:"dinghy",name:"ë”©ê¸°ìš”íŠ¸",icon:"â›µ",count:0}],posts:[],showWriteModal:!1,showDetailModal:!1,selectedPost:null,newReview:{title:"",content:"",category_id:"",rating:5}}},computed:{filteredPosts(){return this.selectedCategory==="all"?this.posts:this.posts.filter(o=>o.category_id===this.selectedCategory)}},async mounted(){await this.loadPosts()},methods:{async loadPosts(){try{const o=await m.get(`${y}/api/reviews`);this.posts=o.data.map(t=>({...t,preview:t.content.substring(0,100)+(t.content.length>100?"...":"")})),this.updateCategoryCounts()}catch(o){console.error("Failed to load posts:",o),this.posts=[]}},updateCategoryCounts(){this.categories[0].count=this.posts.length,this.categories[1].count=this.posts.filter(o=>o.category_id==="exemption").length,this.categories[2].count=this.posts.filter(o=>o.category_id==="cruise").length,this.categories[3].count=this.posts.filter(o=>o.category_id==="dinghy").length},selectCategory(o){this.selectedCategory=o},getCategoryName(o){const t=this.categories.find(h=>h.id===o);return t?t.name:"ê¸°íƒ€"},getCategoryClass(o){return`category-${o}`},formatDate(o){return new Date(o).toLocaleDateString("ko-KR")},openPost(o){this.selectedPost=o,this.showDetailModal=!0},async submitReview(){try{const o=await m.post(`${y}/api/reviews`,this.newReview);await this.loadPosts(),this.showWriteModal=!1,this.resetForm(),alert("í›„ê¸°ê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!")}catch(o){console.error("Failed to submit review:",o),alert("í›„ê¸° ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},resetForm(){this.newReview={title:"",content:"",category_id:"",rating:5}}}},R={class:"review-board"},M={class:"content-section"},D={class:"container"},x={class:"board-header"},N={class:"category-tabs"},V=["onClick"],W={class:"count"},B={class:"posts-list"},F={key:0,class:"no-posts"},S={key:1,class:"posts-grid"},q=["onClick"],U={class:"post-header"},A={class:"post-date"},L={class:"post-title"},E={class:"post-preview"},I={class:"post-footer"},T={class:"author"},z={class:"post-stats"},K={class:"views"},j={class:"rating"},G={class:"form-header"},H={class:"form-group"},J={class:"form-group"},O={class:"form-group"},Q={class:"rating-input"},X=["onClick"],Y={class:"form-group"},Z={class:"form-actions"},$={class:"form-header"},ee={class:"post-detail"},te={class:"detail-header"},se={class:"post-info"},oe={class:"author"},ie={class:"date"},ne={class:"rating"},le={class:"detail-content"};function ae(o,t,h,re,i,l){return r(),a("div",R,[t[20]||(t[20]=b('<section class="hero-section" data-v-5d477f4b><div class="hero-background" data-v-5d477f4b><div class="hero-overlay" data-v-5d477f4b></div></div><div class="hero-content" data-v-5d477f4b><h1 class="hero-title" data-v-5d477f4b>í›„ê¸°ê²Œì‹œíŒ</h1><p class="hero-subtitle" data-v-5d477f4b>êµìœ¡ ë° ì²´í—˜ í›„ê¸°ë¥¼ ê³µìœ í•˜ëŠ” ê³µê°„</p></div></section>',1)),e("section",M,[e("div",D,[e("div",x,[e("div",N,[(r(!0),a(c,null,u(i.categories,s=>(r(),a("button",{key:s.id,class:d(["tab-button",{active:i.selectedCategory===s.id}]),onClick:p=>l.selectCategory(s.id)},[C(n(s.icon)+" "+n(s.name)+" ",1),e("span",W,"("+n(s.count)+")",1)],10,V))),128))]),e("button",{class:"write-btn",onClick:t[0]||(t[0]=s=>i.showWriteModal=!0)}," âœï¸ í›„ê¸° ì‘ì„± ")]),e("div",B,[l.filteredPosts.length===0?(r(),a("div",F,t[12]||(t[12]=[e("div",{class:"no-posts-icon"},"ğŸ“",-1),e("h3",null,"ì•„ì§ ë“±ë¡ëœ í›„ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤",-1),e("p",null,"ì²« ë²ˆì§¸ í›„ê¸°ë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”!",-1)]))):(r(),a("div",S,[(r(!0),a(c,null,u(l.filteredPosts,s=>(r(),a("div",{key:s.id,class:"post-card",onClick:p=>l.openPost(s)},[e("div",U,[e("span",{class:d(["category-badge",l.getCategoryClass(s.category_id)])},n(l.getCategoryName(s.category_id)),3),e("span",A,n(l.formatDate(s.created_at)),1)]),e("h3",L,n(s.title),1),e("p",E,n(s.preview),1),e("div",I,[e("span",T,"ğŸ‘¤ "+n(s.author_name),1),e("div",z,[e("span",K,"ğŸ‘ï¸ "+n(s.views),1),e("span",j,"â­ "+n(s.rating)+"/5",1)])])],8,q))),128))]))])])]),i.showWriteModal?(r(),a("div",{key:0,class:"modal",onClick:t[8]||(t[8]=s=>i.showWriteModal=!1)},[e("div",{class:"modal-content",onClick:t[7]||(t[7]=v(()=>{},["stop"]))},[e("div",G,[t[13]||(t[13]=e("h3",null,"í›„ê¸° ì‘ì„±",-1)),e("button",{class:"close-btn",onClick:t[1]||(t[1]=s=>i.showWriteModal=!1)},"Ã—")]),e("form",{onSubmit:t[6]||(t[6]=v((...s)=>l.submitReview&&l.submitReview(...s),["prevent"]))},[e("div",H,[t[15]||(t[15]=e("label",null,"ì¹´í…Œê³ ë¦¬",-1)),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.newReview.category_id=s),required:""},t[14]||(t[14]=[e("option",{value:""},"ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”",-1),e("option",{value:"exemption"},"ë©´ì œêµìœ¡",-1),e("option",{value:"cruise"},"í¬ë£¨ì¦ˆìš”íŠ¸",-1),e("option",{value:"dinghy"},"ë”©ê¸°ìš”íŠ¸",-1)]),512),[[k,i.newReview.category_id]])]),e("div",J,[t[16]||(t[16]=e("label",null,"ì œëª©",-1)),g(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>i.newReview.title=s),placeholder:"í›„ê¸° ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”",required:""},null,512),[[w,i.newReview.title]])]),e("div",O,[t[17]||(t[17]=e("label",null,"í‰ì ",-1)),e("div",Q,[(r(),a(c,null,u(5,s=>e("span",{key:s,class:d(["star",{active:s<=i.newReview.rating}]),onClick:p=>i.newReview.rating=s}," â­ ",10,X)),64))])]),e("div",Y,[t[18]||(t[18]=e("label",null,"í›„ê¸° ë‚´ìš©",-1)),g(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.newReview.content=s),rows:"8",placeholder:"í›„ê¸° ë‚´ìš©ì„ ì‘ì„±í•´ì£¼ì„¸ìš”",required:""},null,512),[[w,i.newReview.content]])]),e("div",Z,[e("button",{type:"button",class:"cancel-btn",onClick:t[5]||(t[5]=s=>i.showWriteModal=!1)},"ì·¨ì†Œ"),t[19]||(t[19]=e("button",{type:"submit",class:"submit-btn"},"ì‘ì„± ì™„ë£Œ",-1))])],32)])])):_("",!0),i.showDetailModal?(r(),a("div",{key:1,class:"modal",onClick:t[11]||(t[11]=s=>i.showDetailModal=!1)},[e("div",{class:"modal-content large",onClick:t[10]||(t[10]=v(()=>{},["stop"]))},[e("div",$,[e("h3",null,n(i.selectedPost.title),1),e("button",{class:"close-btn",onClick:t[9]||(t[9]=s=>i.showDetailModal=!1)},"Ã—")]),e("div",ee,[e("div",te,[e("span",{class:d(["category-badge",l.getCategoryClass(i.selectedPost.category_id)])},n(l.getCategoryName(i.selectedPost.category_id)),3),e("div",se,[e("span",oe,"ì‘ì„±ì: "+n(i.selectedPost.author_name),1),e("span",ie,n(l.formatDate(i.selectedPost.created_at)),1),e("span",ne,"í‰ì : â­ "+n(i.selectedPost.rating)+"/5",1)])]),e("div",le,[e("p",null,n(i.selectedPost.content),1)])])])])):_("",!0)])}const ce=f(P,[["render",ae],["__scopeId","data-v-5d477f4b"]]);export{ce as default};
