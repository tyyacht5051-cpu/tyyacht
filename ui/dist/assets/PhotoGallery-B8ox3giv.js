import{_ as f,c as a,a as y,b as e,k as h,F as p,e as m,n as b,t as r,l as w,m as g,p as v,v as _,s as F,u as k,f as d}from"./index-fXz6EMut.js";const P={name:"PhotoGallery",setup(){return{toast:k()}},data(){return{authStore:F,activeCategory:"all",showUploadForm:!1,newPhoto:{title:"",description:"",categoryId:""},selectedFiles:[],categories:[{id:"all",name:"ì „ì²´",count:24},{id:"cruise-education",name:"í¬ë£¨ì¦ˆ ìš”íŠ¸ êµìœ¡",count:8},{id:"cruise-experience",name:"í¬ë£¨ì¦ˆ ìš”íŠ¸ ì²´í—˜",count:6},{id:"dinghy-education",name:"ë”©ê¸° ìš”íŠ¸ êµìœ¡",count:5},{id:"dinghy-experience",name:"ë”©ê¸° ìš”íŠ¸ ì²´í—˜",count:3},{id:"paddleboard",name:"íŒ¨ë“¤ë³´ë“œ ì²´í—˜",count:2}],photos:[{id:1,title:"í¬ë£¨ì¦ˆ ìš”íŠ¸ êµìœ¡ í˜„ì¥",description:"ì°¸ê°€ìë“¤ì´ ì—´ì‹¬íˆ ìš”íŠ¸ ì¡°ì¢…ë²•ì„ ë°°ìš°ê³  ìˆëŠ” ëª¨ìŠµ",categoryId:"cruise-education",date:"2024-03-15",url:"/images/sample1.jpg"},{id:2,title:"ë”©ê¸° ìš”íŠ¸ ì‹¤ìŠµ",description:"ë”©ê¸° ìš”íŠ¸ë¡œ ì‹¤ì œ í•­í•´ë¥¼ ì—°ìŠµí•˜ëŠ” êµìœ¡ìƒë“¤",categoryId:"dinghy-education",date:"2024-03-14",url:"/images/sample2.jpg"},{id:3,title:"ê°€ì¡± ìš”íŠ¸ ì²´í—˜",description:"ê°€ì¡±ë“¤ì´ í•¨ê»˜ ì¦ê¸°ëŠ” ìš”íŠ¸ ì²´í—˜ ì‹œê°„",categoryId:"cruise-experience",date:"2024-03-13",url:"/images/sample3.jpg"},{id:4,title:"íŒ¨ë“¤ë³´ë“œ ì²´í—˜",description:"ì²­ì • ë°”ë‹¤ì—ì„œ ì¦ê¸°ëŠ” íŒ¨ë“¤ë³´ë“œ ì²´í—˜",categoryId:"paddleboard",date:"2024-03-12",url:"/images/sample4.jpg"}]}},computed:{filteredPhotos(){return this.activeCategory==="all"?this.photos:this.photos.filter(o=>o.categoryId===this.activeCategory)},isAdmin(){return this.authStore.state.isAuthenticated&&this.authStore.isAdmin()}},methods:{setActiveCategory(o){this.activeCategory=o},getCategoryName(o){const t=this.categories.find(n=>n.id===o);return t?t.name:""},openModal(o){console.log("Open photo modal:",o)},uploadPhoto(){if(this.selectedFiles.length===0){this.toast.warning("ì‚¬ì§„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.","ğŸ“· ì‚¬ì§„ ì„ íƒ í•„ìš”");return}if(!this.newPhoto.title||!this.newPhoto.categoryId){this.toast.warning("ì œëª©ê³¼ ì¹´í…Œê³ ë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.","âœï¸ ì •ë³´ ì…ë ¥ í•„ìš”");return}this.selectedFiles.forEach((o,t)=>{const n={id:Math.max(...this.photos.map(c=>c.id))+1+t,title:this.selectedFiles.length>1?`${this.newPhoto.title} ${t+1}`:this.newPhoto.title,description:this.newPhoto.description,categoryId:this.newPhoto.categoryId,date:new Date().toISOString().split("T")[0],url:o.preview||"/images/placeholder.jpg"};this.photos.unshift(n)}),this.updateCategoryCounts(),this.showUploadForm=!1,this.newPhoto={title:"",description:"",categoryId:""},this.selectedFiles=[],this.$refs.photoFileInput.value="",this.toast.celebrate(`${this.selectedFiles.length>1?this.selectedFiles.length+"ê°œì˜ ":""}ì‚¬ì§„ì´ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`,"ğŸ“¸ ì‚¬ì§„ ì—…ë¡œë“œ ì™„ë£Œ")},handleFileSelection(o){const t=Array.from(o.target.files);if(t.length>5){this.toast.warning("ìµœëŒ€ 5ê°œì˜ íŒŒì¼ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.","ğŸ“ íŒŒì¼ ìˆ˜ ì œí•œ");return}this.selectedFiles=[],t.forEach(n=>{if(n.size>10*1024*1024){this.toast.error(`${n.name}ì€(ëŠ”) íŒŒì¼ í¬ê¸°ê°€ 10MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.`,"âš ï¸ íŒŒì¼ í¬ê¸° ì´ˆê³¼");return}if(!n.type.startsWith("image/")){this.toast.error(`${n.name}ì€(ëŠ”) ì´ë¯¸ì§€ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.`,"âš ï¸ íŒŒì¼ í˜•ì‹ ì˜¤ë¥˜");return}const c=new FileReader;c.onload=i=>{this.selectedFiles.push({file:n,name:n.name,size:n.size,preview:i.target.result})},c.readAsDataURL(n)})},removeFile(o){this.selectedFiles.splice(o,1)},formatFileSize(o){if(o===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(o)/Math.log(t));return parseFloat((o/Math.pow(t,c)).toFixed(2))+" "+n[c]},updateCategoryCounts(){this.categories.forEach(o=>{o.id==="all"?o.count=this.photos.length:o.count=this.photos.filter(t=>t.categoryId===o.id).length})},managePhotos(){console.log("Manage photos")},goBack(){this.$router.push("/community")}}},C={class:"photo-gallery"},I={class:"content-section"},M={class:"container"},S={class:"gallery-categories"},B={class:"category-tabs"},x=["onClick"],U={class:"photo-grid"},z=["onClick"],A={class:"photo-container"},G={class:"photo-placeholder"},N={class:"placeholder-text"},V={class:"photo-info"},j={class:"photo-meta"},D={class:"date"},E={class:"category"},T={key:0,class:"empty-state"},q={key:1,class:"admin-section"},L={class:"admin-buttons"},O={key:2,class:"upload-form"},R={class:"form-header"},J={class:"form-group"},K={class:"form-group"},W={class:"form-group"},H=["value"],Q={class:"form-group"},X={key:0,class:"selected-files"},Y={class:"file-list"},Z={class:"file-preview"},$=["src","alt"],tt={key:1,class:"no-preview"},et={class:"file-info"},st={class:"file-name"},ot={class:"file-size"},it=["onClick"],lt={class:"form-actions"},nt={class:"back-button"};function at(o,t,n,c,i,l){return d(),a("div",C,[t[23]||(t[23]=y('<section class="hero-section" data-v-b17ae3d8><div class="hero-background" data-v-b17ae3d8></div><div class="hero-overlay" data-v-b17ae3d8></div><div class="hero-content" data-v-b17ae3d8><h1 class="hero-title" data-v-b17ae3d8>í¬í† ê°¤ëŸ¬ë¦¬</h1><p class="hero-subtitle" data-v-b17ae3d8>í†µì˜ìš”íŠ¸í•™êµì˜ ìƒìƒí•œ ìˆœê°„ë“¤ì„ ì‚¬ì§„ìœ¼ë¡œ ë§Œë‚˜ë³´ì„¸ìš”</p></div></section>',1)),e("section",I,[e("div",M,[t[22]||(t[22]=e("div",{class:"gallery-header"},[e("div",{class:"header-info"},[e("h2",null,"ì‚¬ì§„ ê°¤ëŸ¬ë¦¬"),e("p",null,"ê´€ë¦¬ì ì „ìš© ê³µê°„ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ êµìœ¡ í™œë™ê³¼ ì²´í—˜ í˜„ì¥ì˜ ëª¨ìŠµì„ ë‹´ì•˜ìŠµë‹ˆë‹¤.")]),e("div",{class:"admin-notice"},[e("div",{class:"notice-icon"},"ğŸ”’"),e("span",null,"ê´€ë¦¬ì ì „ìš©")])],-1)),e("div",S,[e("div",B,[(d(!0),a(p,null,m(i.categories,s=>(d(),a("button",{key:s.id,class:b(["tab-button",{active:i.activeCategory===s.id}]),onClick:u=>l.setActiveCategory(s.id)},r(s.name)+" ("+r(s.count)+") ",11,x))),128))])]),e("div",U,[(d(!0),a(p,null,m(l.filteredPhotos,s=>(d(),a("div",{key:s.id,class:"photo-card",onClick:u=>l.openModal(s)},[e("div",A,[e("div",G,[t[10]||(t[10]=e("div",{class:"placeholder-icon"},"ğŸ“·",-1)),e("div",N,r(s.title),1)])]),e("div",V,[e("h4",null,r(s.title),1),e("p",null,r(s.description),1),e("div",j,[e("span",D,r(s.date),1),e("span",E,r(l.getCategoryName(s.categoryId)),1)])])],8,z))),128))]),l.filteredPhotos.length===0?(d(),a("div",T,t[11]||(t[11]=[e("div",{class:"empty-icon"},"ğŸ“¸",-1),e("h3",null,"ì•„ì§ ì‚¬ì§„ì´ ì—†ìŠµë‹ˆë‹¤",-1),e("p",null,"ê´€ë¦¬ìê°€ ê³§ ë©‹ì§„ ì‚¬ì§„ë“¤ì„ ì—…ë¡œë“œí•  ì˜ˆì •ì…ë‹ˆë‹¤.",-1)]))):h("",!0),l.isAdmin?(d(),a("div",q,[t[12]||(t[12]=e("h3",null,"ê´€ë¦¬ì ê¸°ëŠ¥",-1)),e("div",L,[e("button",{class:"admin-btn upload-btn",onClick:t[0]||(t[0]=s=>i.showUploadForm=!0)}," ğŸ“· ì‚¬ì§„ ì—…ë¡œë“œ "),e("button",{class:"admin-btn manage-btn",onClick:t[1]||(t[1]=(...s)=>l.managePhotos&&l.managePhotos(...s))}," ğŸ—‚ï¸ ì‚¬ì§„ ê´€ë¦¬ ")])])):h("",!0),i.showUploadForm&&l.isAdmin?(d(),a("div",O,[e("div",R,[t[13]||(t[13]=e("h3",null,"ì‚¬ì§„ ì—…ë¡œë“œ",-1)),e("button",{class:"close-btn",onClick:t[2]||(t[2]=s=>i.showUploadForm=!1)},"âœ•")]),e("form",{onSubmit:t[8]||(t[8]=w((...s)=>l.uploadPhoto&&l.uploadPhoto(...s),["prevent"]))},[e("div",J,[t[14]||(t[14]=e("label",null,"ì œëª©",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.newPhoto.title=s),type:"text",required:""},null,512),[[v,i.newPhoto.title]])]),e("div",K,[t[15]||(t[15]=e("label",null,"ì„¤ëª…",-1)),g(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.newPhoto.description=s),rows:"3"},null,512),[[v,i.newPhoto.description]])]),e("div",W,[t[17]||(t[17]=e("label",null,"ì¹´í…Œê³ ë¦¬",-1)),g(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>i.newPhoto.categoryId=s),required:""},[t[16]||(t[16]=e("option",{value:""},"ì¹´í…Œê³ ë¦¬ ì„ íƒ",-1)),(d(!0),a(p,null,m(i.categories.filter(s=>s.id!=="all"),s=>(d(),a("option",{key:s.id,value:s.id},r(s.name),9,H))),128))],512),[[_,i.newPhoto.categoryId]])]),e("div",Q,[t[18]||(t[18]=e("label",null,"ì‚¬ì§„ íŒŒì¼",-1)),e("input",{type:"file",accept:"image/*",multiple:"",onChange:t[6]||(t[6]=(...s)=>l.handleFileSelection&&l.handleFileSelection(...s)),ref:"photoFileInput"},null,544),t[19]||(t[19]=e("small",null,"ì§€ì› í˜•ì‹: JPG, PNG, GIF (ìµœëŒ€ 10MB, ìµœëŒ€ 5ê°œ íŒŒì¼)",-1))]),i.selectedFiles.length>0?(d(),a("div",X,[t[20]||(t[20]=e("h4",null,"ì„ íƒëœ íŒŒì¼:",-1)),e("div",Y,[(d(!0),a(p,null,m(i.selectedFiles,(s,u)=>(d(),a("div",{key:u,class:"file-item"},[e("div",Z,[s.preview?(d(),a("img",{key:0,src:s.preview,alt:s.name},null,8,$)):(d(),a("div",tt,"ğŸ“·"))]),e("div",et,[e("span",st,r(s.name),1),e("span",ot,r(l.formatFileSize(s.size)),1)]),e("button",{type:"button",onClick:dt=>l.removeFile(u),class:"remove-file"},"âœ•",8,it)]))),128))])])):h("",!0),e("div",lt,[e("button",{type:"button",class:"cancel-btn",onClick:t[7]||(t[7]=s=>i.showUploadForm=!1)}," ì·¨ì†Œ "),t[21]||(t[21]=e("button",{type:"submit",class:"upload-btn"},"ì—…ë¡œë“œ",-1))])],32)])):h("",!0)])]),e("div",nt,[e("button",{onClick:t[9]||(t[9]=(...s)=>l.goBack&&l.goBack(...s)),class:"back-btn"}," â† ì»¤ë®¤ë‹ˆí‹°ë¡œ ëŒì•„ê°€ê¸° ")])])}const ct=f(P,[["render",at],["__scopeId","data-v-b17ae3d8"]]);export{ct as default};
