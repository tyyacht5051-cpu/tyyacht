import{_ as y,c as a,a as g,b as t,k as u,g as _,w as k,h as w,i as x,t as d,m,v as P,p as v,C,F as f,e as p,n as I,l as M,q as D,D as N,s as F,u as S,f as r}from"./index-fXz6EMut.js";const V={name:"NoticeExemption",setup(){return{toast:S()}},data(){return{authStore:F,showWriteForm:!1,selectedNotice:null,searchType:"title",searchKeyword:"",currentPage:1,noticesPerPage:10,newNotice:{title:"",content:"",important:!1},selectedImages:[],notices:[{id:8,title:"2024ë…„ ìƒë°˜ê¸° ìš”íŠ¸ë©´í—ˆ ë©´ì œêµìœ¡ ì¼ì • ì•ˆë‚´",content:`2024ë…„ ìƒë°˜ê¸° ìš”íŠ¸ë©´í—ˆ ë©´ì œêµìœ¡ ì¼ì •ì„ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.

êµìœ¡ ì¼ì •:
- 1ì°¨: 4ì›” 15ì¼-19ì¼ (5ì¼)
- 2ì°¨: 5ì›” 20ì¼-24ì¼ (5ì¼)
- 3ì°¨: 6ì›” 17ì¼-21ì¼ (5ì¼)

ì°¸ê°€ë¹„: 70ë§Œì›
ì‹ ì²­ ë°©ë²•: ì „í™” ë˜ëŠ” ë°©ë¬¸ ì ‘ìˆ˜
ë¬¸ì˜: 055-641-5051~2`,date:"2024-03-16",views:156,important:!0},{id:7,title:"ë©´ì œêµìœ¡ ì‹œ ì¤€ë¹„ë¬¼ ì•ˆë‚´",content:`ë©´ì œêµìœ¡ ì°¸ê°€ ì‹œ ì¤€ë¹„í•´ì£¼ì‹¤ ë¬¼í’ˆë“¤ì„ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.

í•„ìˆ˜ ì¤€ë¹„ë¬¼:
- ì‹ ë¶„ì¦
- ìˆ˜ì˜ë³µ ë˜ëŠ” ìš´ë™ë³µ
- ìš´ë™í™”
- ê°œì¸ ì„¸ë©´ë„êµ¬
- í•„ê¸°êµ¬

ì œê³µ ë¬¼í’ˆ:
- êµì¬
- êµ¬ëª…ì¡°ë¼
- ì ì‹¬ì‹ì‚¬`,date:"2024-03-14",views:89,important:!1},{id:6,title:"ë©´ì œêµìœ¡ ì´ë¡ /ì‹¤ê¸° ì‹œê°„í‘œ ë³€ê²½",content:`ë©´ì œêµìœ¡ì˜ ì´ë¡  ë° ì‹¤ê¸° ì‹œê°„í‘œê°€ ì¼ë¶€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.

ë³€ê²½ ë‚´ìš©:
- ì´ë¡ êµìœ¡: 09:00-17:00 (ê¸°ì¡´ 09:00-18:00)
- ì‹¤ê¸°êµìœ¡: 09:00-16:00 (ê¸°ì¡´ 10:00-17:00)

ë³€ê²½ ì‚¬ìœ : êµìœ¡ìƒë“¤ì˜ í¸ì˜ë¥¼ ìœ„í•œ ì¡°ì •
ì ìš©ì¼: 2024ë…„ 4ì›”ë¶€í„°`,date:"2024-03-12",views:134,important:!0},{id:5,title:"ë©´ì œêµìœ¡ ìˆ˜ë£Œì¦ ë°œê¸‰ ì ˆì°¨ ì•ˆë‚´",content:`ë©´ì œêµìœ¡ ìˆ˜ë£Œ í›„ ìˆ˜ë£Œì¦ ë°œê¸‰ ì ˆì°¨ë¥¼ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.

ë°œê¸‰ ì ˆì°¨:
1. êµìœ¡ ì´ìˆ˜ ì™„ë£Œ
2. í‰ê°€ í†µê³¼ (ì´ë¡ +ì‹¤ê¸°)
3. ìˆ˜ë£Œì¦ ì‹ ì²­ì„œ ì‘ì„±
4. ìˆ˜ë£Œì¦ ë°œê¸‰ (3-5ì¼ ì†Œìš”)

ë°œê¸‰ë¹„ìš©: ë¬´ë£Œ
ìˆ˜ë ¹ë°©ë²•: ì§ì ‘ ìˆ˜ë ¹ ë˜ëŠ” ìš°í¸ ë°œì†¡`,date:"2024-03-10",views:78,important:!1}]}},mounted(){N.loadCategoryNotices("exemption",this.notices)},computed:{isAdmin(){return this.authStore.state.isAuthenticated&&this.authStore.state.user?.role==="admin"},filteredNotices(){return this.searchKeyword?this.notices.filter(n=>{switch(this.searchType){case"title":return n.title.includes(this.searchKeyword);case"content":return n.content.includes(this.searchKeyword);case"all":return n.title.includes(this.searchKeyword)||n.content.includes(this.searchKeyword);default:return!0}}):this.notices},paginatedNotices(){const n=(this.currentPage-1)*this.noticesPerPage,e=n+this.noticesPerPage;return this.filteredNotices.slice(n,e)},totalPages(){return Math.ceil(this.filteredNotices.length/this.noticesPerPage)},visiblePages(){const n=[];let l=Math.max(1,this.currentPage-Math.floor(2.5)),c=Math.min(this.totalPages,l+5-1);c-l+1<5&&(l=Math.max(1,c-5+1));for(let i=l;i<=c;i++)n.push(i);return n}},methods:{searchNotices(){this.currentPage=1},changePage(n){this.currentPage=n},viewNotice(n){n.views++,this.selectedNotice=n},submitNotice(){if(!this.newNotice.title||!this.newNotice.content){this.toast.error("ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}const n={id:Math.max(...this.notices.map(e=>e.id))+1,title:this.newNotice.title,content:this.newNotice.content,date:new Date().toISOString().split("T")[0],views:0,important:this.newNotice.important,images:this.selectedImages.map(e=>e.preview)};this.notices.unshift(n),N.addNotice(n,"exemption"),this.showWriteForm=!1,this.newNotice={title:"",content:"",important:!1},this.selectedImages=[],this.$refs.imageFileInput&&(this.$refs.imageFileInput.value=""),this.toast.success("ê³µì§€ì‚¬í•­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.","ë“±ë¡ ì™„ë£Œ")},handleImageSelection(n){const e=Array.from(n.target.files);if(e.length>3){this.toast.error("ìµœëŒ€ 3ê°œì˜ ì´ë¯¸ì§€ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}this.selectedImages=[],e.forEach(l=>{if(l.size>5*1024*1024){this.toast.error(`${l.name}ì€(ëŠ”) íŒŒì¼ í¬ê¸°ê°€ 5MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.`);return}if(!l.type.startsWith("image/")){this.toast.error(`${l.name}ì€(ëŠ”) ì´ë¯¸ì§€ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.`);return}const c=new FileReader;c.onload=i=>{this.selectedImages.push({file:l,name:l.name,size:l.size,preview:i.target.result})},c.readAsDataURL(l)})},removeImage(n){this.selectedImages.splice(n,1)},formatFileSize(n){if(n===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,c)).toFixed(2))+" "+l[c]},formatDate(n){const e=new Date(n),c=new Date-e,i=Math.floor(c/(1e3*60*60*24));return i===0?"ì˜¤ëŠ˜":i===1?"ì–´ì œ":i<7?`${i}ì¼ ì „`:e.toLocaleDateString("ko-KR")},isNewNotice(n){const e=new Date(n),c=new Date-e;return Math.floor(c/(1e3*60*60*24))<=3},goBack(){this.$router.push("/notice")}}},B={class:"notice-exemption"},K={class:"content-section"},T={class:"container"},z={class:"notice-header"},W={class:"breadcrumb"},A={class:"notice-info"},U={class:"total-count"},E={class:"search-section"},G={class:"search-controls"},q={key:0,class:"admin-controls"},L={class:"notices-table"},R=["onClick"],J={class:"col-number"},O={class:"col-title"},j={class:"title-text"},H={key:0,class:"new-badge"},Q={key:1,class:"important-badge"},X={class:"col-date"},Y={class:"col-views"},Z={key:0,class:"empty-state"},$={key:1,class:"pagination"},ee=["onClick"],te={key:2,class:"write-form"},se={class:"form-header"},ie={class:"form-group"},ne={class:"form-group"},oe={class:"form-group"},le={key:0,class:"selected-images"},ae={class:"image-list"},re={class:"image-preview"},ce=["src","alt"],de={class:"image-info"},ue={class:"image-name"},me={class:"image-size"},he=["onClick"],ve={class:"form-group"},fe={class:"checkbox-label"},pe={class:"form-actions"},ge={key:3,class:"notice-detail"},we={class:"detail-header"},Ne={class:"detail-meta"},be={key:0,class:"important-badge"},ye={class:"detail-content"},_e={class:"back-button"};function ke(n,e,l,c,i,o){const b=x("router-link");return r(),a("div",B,[e[28]||(e[28]=g('<section class="hero-section" data-v-6c9fcd0f><div class="hero-background" data-v-6c9fcd0f></div><div class="hero-overlay" data-v-6c9fcd0f></div><div class="hero-content" data-v-6c9fcd0f><h1 class="hero-title" data-v-6c9fcd0f>ë©´ì œêµìœ¡ ê³µì§€ì‚¬í•­</h1><p class="hero-subtitle" data-v-6c9fcd0f>ìš”íŠ¸ë©´í—ˆ ë©´ì œêµìœ¡ ê´€ë ¨ ê³µì§€ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”</p></div></section>',1)),t("section",K,[t("div",T,[t("div",z,[t("div",W,[_(b,{to:"/notice"},{default:k(()=>e[14]||(e[14]=[w("ê³µì§€ì‚¬í•­",-1)])),_:1,__:[14]}),e[15]||(e[15]=t("span",{class:"separator"},">",-1)),e[16]||(e[16]=t("span",{class:"current"},"ë©´ì œêµìœ¡",-1))]),t("div",A,[t("span",U,"ì´ "+d(o.filteredNotices.length)+"ê°œ ê²Œì‹œë¬¼",1)])]),t("div",E,[t("div",G,[m(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.searchType=s),class:"search-select"},e[17]||(e[17]=[t("option",{value:"title"},"ì œëª©",-1),t("option",{value:"content"},"ë‚´ìš©",-1),t("option",{value:"all"},"ì „ì²´",-1)]),512),[[P,i.searchType]]),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.searchKeyword=s),type:"text",placeholder:"ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”",class:"search-input",onKeyup:e[2]||(e[2]=C((...s)=>o.searchNotices&&o.searchNotices(...s),["enter"]))},null,544),[[v,i.searchKeyword]]),t("button",{onClick:e[3]||(e[3]=(...s)=>o.searchNotices&&o.searchNotices(...s)),class:"search-btn"},"ê²€ìƒ‰")]),o.isAdmin?(r(),a("div",q,[t("button",{onClick:e[4]||(e[4]=s=>i.showWriteForm=!0),class:"write-btn"},"âœï¸ ê¸€ì“°ê¸°")])):u("",!0)]),t("div",L,[e[18]||(e[18]=g('<div class="table-header" data-v-6c9fcd0f><div class="col-number" data-v-6c9fcd0f>ë²ˆí˜¸</div><div class="col-title" data-v-6c9fcd0f>ì œëª©</div><div class="col-date" data-v-6c9fcd0f>ì‘ì„±ì¼</div><div class="col-views" data-v-6c9fcd0f>ì¡°íšŒ</div></div>',1)),(r(!0),a(f,null,p(o.paginatedNotices,s=>(r(),a("div",{key:s.id,class:"table-row",onClick:h=>o.viewNotice(s)},[t("div",J,d(s.id),1),t("div",O,[t("span",j,d(s.title),1),o.isNewNotice(s.date)?(r(),a("span",H,"NEW")):u("",!0),s.important?(r(),a("span",Q,"ì¤‘ìš”")):u("",!0)]),t("div",X,d(o.formatDate(s.date)),1),t("div",Y,d(s.views),1)],8,R))),128))]),o.filteredNotices.length===0?(r(),a("div",Z,e[19]||(e[19]=[t("div",{class:"empty-icon"},"ğŸ“‹",-1),t("h3",null,"ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤",-1),t("p",null,"ê´€ë¦¬ìê°€ ê³§ ì¤‘ìš”í•œ ì†Œì‹ì„ ì „í•´ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤.",-1)]))):u("",!0),o.totalPages>1?(r(),a("div",$,[(r(!0),a(f,null,p(o.visiblePages,s=>(r(),a("button",{onClick:h=>o.changePage(s),key:s,class:I(["page-btn",{active:i.currentPage===s}])},d(s),11,ee))),128))])):u("",!0),i.showWriteForm&&o.isAdmin?(r(),a("div",te,[t("div",se,[e[20]||(e[20]=t("h3",null,"ë©´ì œêµìœ¡ ê³µì§€ì‚¬í•­ ì‘ì„±",-1)),t("button",{class:"close-btn",onClick:e[5]||(e[5]=s=>i.showWriteForm=!1)},"âœ•")]),t("form",{onSubmit:e[11]||(e[11]=M((...s)=>o.submitNotice&&o.submitNotice(...s),["prevent"]))},[t("div",ie,[e[21]||(e[21]=t("label",null,"ì œëª©",-1)),m(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>i.newNotice.title=s),type:"text",required:""},null,512),[[v,i.newNotice.title]])]),t("div",ne,[e[22]||(e[22]=t("label",null,"ë‚´ìš©",-1)),m(t("textarea",{"onUpdate:modelValue":e[7]||(e[7]=s=>i.newNotice.content=s),rows:"10",required:""},null,512),[[v,i.newNotice.content]])]),t("div",oe,[e[23]||(e[23]=t("label",null,"ì´ë¯¸ì§€ ì²¨ë¶€",-1)),t("input",{type:"file",accept:"image/*",multiple:"",onChange:e[8]||(e[8]=(...s)=>o.handleImageSelection&&o.handleImageSelection(...s)),ref:"imageFileInput"},null,544),e[24]||(e[24]=t("small",null,"ì§€ì› í˜•ì‹: JPG, PNG, GIF (ìµœëŒ€ 5MB, ìµœëŒ€ 3ê°œ íŒŒì¼)",-1))]),i.selectedImages.length>0?(r(),a("div",le,[e[25]||(e[25]=t("h4",null,"ì„ íƒëœ ì´ë¯¸ì§€:",-1)),t("div",ae,[(r(!0),a(f,null,p(i.selectedImages,(s,h)=>(r(),a("div",{key:h,class:"image-item"},[t("div",re,[t("img",{src:s.preview,alt:s.name},null,8,ce)]),t("div",de,[t("span",ue,d(s.name),1),t("span",me,d(o.formatFileSize(s.size)),1)]),t("button",{type:"button",onClick:xe=>o.removeImage(h),class:"remove-image"},"âœ•",8,he)]))),128))])])):u("",!0),t("div",ve,[t("label",fe,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=s=>i.newNotice.important=s)},null,512),[[D,i.newNotice.important]]),e[26]||(e[26]=w(" ì¤‘ìš” ê³µì§€ì‚¬í•­ ",-1))])]),t("div",pe,[t("button",{type:"button",class:"cancel-btn",onClick:e[10]||(e[10]=s=>i.showWriteForm=!1)}," ì·¨ì†Œ "),e[27]||(e[27]=t("button",{type:"submit",class:"submit-btn"},"ë“±ë¡",-1))])],32)])):u("",!0),i.selectedNotice?(r(),a("div",ge,[t("div",we,[t("h3",null,d(i.selectedNotice.title),1),t("button",{class:"close-btn",onClick:e[12]||(e[12]=s=>i.selectedNotice=null)},"âœ•")]),t("div",Ne,[t("span",null,"ì‘ì„±ì¼: "+d(o.formatDate(i.selectedNotice.date)),1),t("span",null,"ì¡°íšŒìˆ˜: "+d(i.selectedNotice.views),1),i.selectedNotice.important?(r(),a("span",be,"ì¤‘ìš”")):u("",!0)]),t("div",ye,d(i.selectedNotice.content),1)])):u("",!0)])]),t("div",_e,[t("button",{onClick:e[13]||(e[13]=(...s)=>o.goBack&&o.goBack(...s)),class:"back-btn"}," â† ê³µì§€ì‚¬í•­ìœ¼ë¡œ ëŒì•„ê°€ê¸° ")])])}const Ce=y(V,[["render",ke],["__scopeId","data-v-6c9fcd0f"]]);export{Ce as default};
