import{d as G,y as J,r as y,z as C,o as Q,c,b as e,q as r,v as b,s as _,B as S,k as W,t as h,a as w,F as E,e as F,x as X,h as D,p as Z,u as ee,l as V,A,n as te,f as u,_ as T,g as se,i as ae}from"./index-9yIbVlal.js";const oe={class:"exemption-form"},le={class:"form-section"},ne={class:"form-row"},ie={class:"form-group"},re={class:"form-group"},de={class:"form-row"},ce={class:"form-group"},ue={class:"form-group"},ve={class:"form-group"},pe={class:"form-group"},me={class:"form-group"},fe={class:"form-section"},ge={class:"course-options"},be={class:"course-option"},he={class:"course-option"},ye={class:"form-section"},De={class:"form-group"},xe={class:"calendar-container"},ke={class:"month-navigation"},Me={class:"calendar"},_e={class:"calendar-body"},we=["onClick"],$e={key:0,class:"selected-dates"},Ce={class:"date-tags"},Se=["onClick"],Ee={class:"form-group"},Fe={class:"form-section"},Ve={class:"agreement-box"},Ae={class:"checkbox-group"},Te={class:"form-actions"},Ue=["disabled"],qe=G({__name:"ExemptionForm",setup(U){const o=ee(),s=J({name:"",birthDate:"",gender:"",phone:"",email:"",address:"",license:"",courseType:"",preferredDates:[],discountEligibility:"",experience:"none",motivation:"",privacyAgreed:!1}),x=y([]),n=y([]),i=y(new Date),v=y(!1),k=C(()=>i.value.toLocaleDateString("ko-KR",{year:"numeric",month:"long"})),q=C(()=>{const l=i.value.getFullYear(),t=i.value.getMonth(),a=new Date(l,t,1),d=new Date(a);d.setDate(d.getDate()-a.getDay());const p=[],m=new Date;m.setHours(0,0,0,0);for(let f=0;f<42;f++){const g=new Date(d);g.setDate(d.getDate()+f);const M=g.toISOString().split("T")[0],P=g.getMonth()===t,K=g<m,z=x.value.includes(M),j=n.value.includes(M);p.push({date:M,day:g.getDate(),isCurrentMonth:P,isPast:K,isAvailable:z,isSelected:j})}return p}),R=async()=>{if(s.preferredDates=n.value,!!Y()){v.value=!0;try{const l={name:s.name,phone:s.phone,email:s.email,birthDate:s.birthDate,gender:s.gender,address:s.address,license:s.license,courseType:s.courseType,preferredDates:s.preferredDates,discountEligibility:s.discountEligibility},t=await V.post(`${A}/api/applications/exemption`,l);t.status===201&&t.data.id&&(o.success(t.data.message||"ë©´ì œêµìœ¡ ì‹ ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤!","ì‹ ì²­ ì™„ë£Œ"),$())}catch{o.error("ì‹ ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.","ì‹ ì²­ ì˜¤ë¥˜")}finally{v.value=!1}}},Y=()=>s.name.trim()?s.birthDate?s.phone.trim()?/^01[016789]-?\d{3,4}-?\d{4}$/.test(s.phone.replace(/-/g,""))?s.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?(o.error("ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”."),!1):s.courseType?n.value.length===0?(o.error("êµìœ¡ì¼ì •ì„ ìµœì†Œ 1ì¼ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”."),!1):s.privacyAgreed?!0:(o.error("ê°œì¸ì •ë³´ ì²˜ë¦¬ ë™ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤."),!1):(o.error("êµìœ¡ê³¼ì •ì„ ì„ íƒí•´ì£¼ì„¸ìš”."),!1):(o.error("ì˜¬ë°”ë¥¸ ì—°ë½ì²˜ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”."),!1):(o.error("ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."),!1):(o.error("ìƒë…„ì›”ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”."),!1):(o.error("ì„±ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."),!1),$=()=>{Object.assign(s,{name:"",birthDate:"",gender:"",phone:"",email:"",address:"",license:"",courseType:"",preferredDates:[],discountEligibility:"",experience:"none",motivation:"",privacyAgreed:!1}),n.value=[],o.info("í¼ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.")},B=async()=>{try{const l=[],t=new Date;for(let a=0;a<6;a++){const d=new Date(t.getFullYear(),t.getMonth()+a,1),p=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`;try{const f=(await V.get(`${A}/api/schedules/available/${p}`)).data.dates||[];l.push(...f)}catch(m){console.error(`Failed to load dates for ${p}:`,m)}}x.value=l.sort()}catch(l){console.error("Failed to load available dates:",l),o.error("êµìœ¡ ê°€ëŠ¥ ë‚ ì§œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},I=()=>{i.value=new Date(i.value.getFullYear(),i.value.getMonth()-1,1)},N=()=>{i.value=new Date(i.value.getFullYear(),i.value.getMonth()+1,1)},H=l=>{if(!l.isAvailable||!l.isCurrentMonth||l.isPast)return;const t=n.value.indexOf(l.date);t>-1?n.value.splice(t,1):n.value.length<5?(n.value.push(l.date),n.value.sort()):o.error("ìµœëŒ€ 5ì¼ê¹Œì§€ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")},L=l=>{const t=n.value.indexOf(l);t>-1&&n.value.splice(t,1)},O=l=>l?new Date(l).toLocaleDateString("ko-KR",{month:"short",day:"numeric",weekday:"short"}):"";return Q(()=>{B()}),(l,t)=>(u(),c("div",oe,[e("form",{onSubmit:Z(R,["prevent"]),class:"form-container"},[t[33]||(t[33]=e("div",{class:"form-header"},[e("h2",null,"ë©´ì œêµìœ¡ ì‹ ì²­ì„œ"),e("p",null,"ìš”íŠ¸ë©´í—ˆ ë©´ì œêµìœ¡ ì‹ ì²­ì„ ìœ„í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”")],-1)),e("div",le,[t[20]||(t[20]=e("h3",null,"ê°œì¸ì •ë³´",-1)),e("div",ne,[e("div",ie,[t[11]||(t[11]=e("label",{for:"name"},"ì„±ëª… *",-1)),r(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>s.name=a),required:"",placeholder:"ì˜ˆ: ê¹€ìš”íŠ¸"},null,512),[[b,s.name]])]),e("div",re,[t[12]||(t[12]=e("label",{for:"birthDate"},"ìƒë…„ì›”ì¼ *",-1)),r(e("input",{type:"date",id:"birthDate","onUpdate:modelValue":t[1]||(t[1]=a=>s.birthDate=a),required:""},null,512),[[b,s.birthDate]])])]),e("div",de,[e("div",ce,[t[14]||(t[14]=e("label",{for:"gender"},"ì„±ë³„ *",-1)),r(e("select",{id:"gender","onUpdate:modelValue":t[2]||(t[2]=a=>s.gender=a),required:""},t[13]||(t[13]=[e("option",{value:""},"ì„ íƒí•´ì£¼ì„¸ìš”",-1),e("option",{value:"male"},"ë‚¨ì„±",-1),e("option",{value:"female"},"ì—¬ì„±",-1)]),512),[[_,s.gender]])]),e("div",ue,[t[15]||(t[15]=e("label",{for:"phone"},"ì—°ë½ì²˜ *",-1)),r(e("input",{type:"tel",id:"phone","onUpdate:modelValue":t[3]||(t[3]=a=>s.phone=a),required:"",placeholder:"010-1234-5678"},null,512),[[b,s.phone]])])]),e("div",ve,[t[16]||(t[16]=e("label",{for:"email"},"ì´ë©”ì¼",-1)),r(e("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=a=>s.email=a),placeholder:"example@email.com (ì„ íƒì‚¬í•­)"},null,512),[[b,s.email]])]),e("div",pe,[t[17]||(t[17]=e("label",{for:"address"},"ì£¼ì†Œ *",-1)),r(e("input",{type:"text",id:"address","onUpdate:modelValue":t[5]||(t[5]=a=>s.address=a),required:"",placeholder:"ì „ì²´ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[b,s.address]])]),e("div",me,[t[19]||(t[19]=e("label",{for:"license"},"ìê²©ì¦ ë³´ìœ  ìœ ë¬´",-1)),r(e("select",{id:"license","onUpdate:modelValue":t[6]||(t[6]=a=>s.license=a)},t[18]||(t[18]=[e("option",{value:""},"ì„ íƒí•´ì£¼ì„¸ìš”",-1),e("option",{value:"general1"},"ì¼ë°˜ ì¡°ì¢… 1ê¸‰",-1),e("option",{value:"general2"},"ì¼ë°˜ ì¡°ì¢… 2ê¸‰",-1)]),512),[[_,s.license]])])]),e("div",fe,[t[23]||(t[23]=e("h3",null,"ì‹ ì²­ êµìœ¡ê³¼ì •",-1)),e("div",ge,[e("label",be,[r(e("input",{type:"radio",name:"course",value:"general","onUpdate:modelValue":t[7]||(t[7]=a=>s.courseType=a),required:""},null,512),[[S,s.courseType]]),t[21]||(t[21]=e("span",{class:"course-info"},[e("strong",null,"ë©´ì œêµìœ¡"),e("span",{class:"course-price"},"70ë§Œì›"),e("p",null,"5ì¼ ê³¼ì • (ì´ë¡  + ì‹¤ê¸°)")],-1))]),e("label",he,[r(e("input",{type:"radio",name:"course",value:"practical","onUpdate:modelValue":t[8]||(t[8]=a=>s.courseType=a),required:""},null,512),[[S,s.courseType]]),t[22]||(t[22]=e("span",{class:"course-info"},[e("strong",null,"ì‹¤ê¸° ì—°ìˆ˜"),e("span",{class:"course-price"},"50ë§Œì›"),e("p",null,"3ì¼ ê³¼ì • (ì‹¤ê¸° ìœ„ì£¼)")],-1))])])]),e("div",ye,[t[29]||(t[29]=e("h3",null,"êµìœ¡ì¼ì •",-1)),e("div",De,[t[26]||(t[26]=e("label",null,"êµìœ¡ì¼ì • * (ìµœëŒ€ 5ì¼ ì„ íƒ ê°€ëŠ¥)",-1)),e("div",xe,[e("div",ke,[e("button",{type:"button",onClick:I,class:"nav-btn"}," < "),e("h4",null,h(k.value),1),e("button",{type:"button",onClick:N,class:"nav-btn"},">")]),e("div",Me,[t[24]||(t[24]=w('<div class="calendar-header" data-v-f01a4f81><div class="day-header" data-v-f01a4f81>ì¼</div><div class="day-header" data-v-f01a4f81>ì›”</div><div class="day-header" data-v-f01a4f81>í™”</div><div class="day-header" data-v-f01a4f81>ìˆ˜</div><div class="day-header" data-v-f01a4f81>ëª©</div><div class="day-header" data-v-f01a4f81>ê¸ˆ</div><div class="day-header" data-v-f01a4f81>í† </div></div>',1)),e("div",_e,[(u(!0),c(E,null,F(q.value,a=>(u(),c("div",{key:a.date,class:te(["calendar-day",{"other-month":!a.isCurrentMonth,selected:a.isSelected,available:a.isAvailable,disabled:!a.isAvailable||!a.isCurrentMonth||a.isPast}]),onClick:d=>H(a)},h(a.day),11,we))),128))])]),n.value.length>0?(u(),c("div",$e,[e("h5",null,"ì„ íƒëœ ë‚ ì§œ ("+h(n.value.length)+"/5)",1),e("div",Ce,[(u(!0),c(E,null,F(n.value,a=>(u(),c("span",{key:a,class:"date-tag",onClick:d=>L(a)},[D(h(O(a))+" ",1),t[25]||(t[25]=e("span",{class:"remove-btn"},"Ã—",-1))],8,Se))),128))])])):W("",!0)])]),e("div",Ee,[t[28]||(t[28]=e("label",{for:"discountEligibility"},"í• ì¸ í˜œíƒ ê°€ëŠ¥ì—¬ë¶€",-1)),r(e("select",{id:"discountEligibility","onUpdate:modelValue":t[9]||(t[9]=a=>s.discountEligibility=a)},t[27]||(t[27]=[e("option",{value:""},"í•´ë‹¹ì‚¬í•­ ì—†ìŒ",-1),e("option",{value:"tongyeong"},"í†µì˜ì‹œë¯¼í• ì¸ 20%",-1),e("option",{value:"partner"},"í˜‘ë ¥ë‹¨ì²´ 20%",-1),e("option",{value:"disabled"},"ì¥ì• ì¸í• ì¸ 50%",-1)]),512),[[_,s.discountEligibility]])])]),e("div",Fe,[t[32]||(t[32]=e("h3",null,"ê°œì¸ì •ë³´ ì²˜ë¦¬ ë™ì˜",-1)),e("div",Ve,[e("label",Ae,[r(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=a=>s.privacyAgreed=a),required:""},null,512),[[X,s.privacyAgreed]]),t[30]||(t[30]=e("span",null,"ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤ *",-1))]),t[31]||(t[31]=e("div",{class:"agreement-details"},[e("p",null,[e("strong",null,"ìˆ˜ì§‘ ëª©ì :"),D(" ë©´ì œêµìœ¡ ì‹ ì²­ ì ‘ìˆ˜ ë° ì²˜ë¦¬")]),e("p",null,[e("strong",null,"ìˆ˜ì§‘ í•­ëª©:"),D(" ì„±ëª…, ìƒë…„ì›”ì¼, ì—°ë½ì²˜, ì´ë©”ì¼, ì£¼ì†Œ")]),e("p",null,[e("strong",null,"ë³´ìœ  ê¸°ê°„:"),D(" êµìœ¡ ì™„ë£Œ í›„ 1ë…„")])],-1))])]),e("div",Te,[e("button",{type:"button",class:"btn-cancel",onClick:$},"ì´ˆê¸°í™”"),e("button",{type:"submit",class:"btn-submit",disabled:v.value},h(v.value?"ì œì¶œ ì¤‘...":"ì‹ ì²­ì„œ ì œì¶œ"),9,Ue)])],32)]))}}),Re=T(qe,[["__scopeId","data-v-f01a4f81"]]),Ye={name:"ExemptionApply",components:{ExemptionForm:Re},methods:{goHome(){this.$router.push("/")}}},Be={class:"exemption-apply"},Ie={class:"main-content"},Ne={class:"container"},He={class:"back-section"};function Le(U,o,s,x,n,i){const v=ae("ExemptionForm");return u(),c("div",Be,[o[3]||(o[3]=w('<section class="hero-section" data-v-9c39c939><div class="hero-background" data-v-9c39c939><div class="hero-overlay" data-v-9c39c939></div></div><div class="hero-content" data-v-9c39c939><h1 class="hero-title" data-v-9c39c939>ë©´ì œêµìœ¡ ì‹ ì²­</h1><p class="hero-subtitle" data-v-9c39c939>ìš”íŠ¸ë©´í—ˆ ë©´ì œêµìœ¡ ì‹ ì²­ì„ ìœ„í•œ ì˜¨ë¼ì¸ ì ‘ìˆ˜</p></div></section>',1)),e("section",Ie,[e("div",Ne,[o[1]||(o[1]=e("div",{class:"content-header"},[e("h2",null,"ë©´ì œêµìœ¡ ì‹ ì²­ì„œ"),e("p",null," í†µì˜ìš”íŠ¸í•™êµì˜ ë©´ì œêµìœ¡ ì‹ ì²­ì„œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”. ëª¨ë“  í•­ëª©ì„ ì •í™•íˆ ì…ë ¥í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. ")],-1)),se(v),o[2]||(o[2]=w('<div class="info-section" data-v-9c39c939><h3 data-v-9c39c939>ì‹ ì²­ ì•ˆë‚´ì‚¬í•­</h3><div class="info-grid" data-v-9c39c939><div class="info-card" data-v-9c39c939><div class="info-icon" data-v-9c39c939>ğŸ“‹</div><h4 data-v-9c39c939>ì‹ ì²­ ì ˆì°¨</h4><ul data-v-9c39c939><li data-v-9c39c939>ì˜¨ë¼ì¸ ì‹ ì²­ì„œ ì‘ì„±</li><li data-v-9c39c939>ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°</li><li data-v-9c39c939>êµìœ¡ë¹„ ë‚©ë¶€</li><li data-v-9c39c939>êµìœ¡ ì°¸ì„</li><li class="warning-item" data-v-9c39c939>âš ï¸ ê±°ë™ì´ ë¶ˆí¸í•œ ìëŠ” ì‹ ì²­í•  ìˆ˜ ì—†ìŒ</li></ul></div><div class="info-card" data-v-9c39c939><div class="info-icon" data-v-9c39c939>ğŸ’°</div><h4 data-v-9c39c939>êµìœ¡ë¹„ ì•ˆë‚´</h4><ul data-v-9c39c939><li data-v-9c39c939>ë©´ì œêµìœ¡: 70ë§Œì›</li><li data-v-9c39c939>ì‹¤ê¸° ì—°ìˆ˜: 50ë§Œì›</li><li data-v-9c39c939>ë‚©ë¶€ ë°©ë²•: ê³„ì¢Œì´ì²´</li><li data-v-9c39c939>í™˜ë¶ˆ ê·œì • ì¤€ìˆ˜</li></ul></div><div class="info-card" data-v-9c39c939><div class="info-icon" data-v-9c39c939>ğŸ“</div><h4 data-v-9c39c939>ë¬¸ì˜ì‚¬í•­</h4><ul data-v-9c39c939><li data-v-9c39c939>ì „í™”: 055-641-5051~2</li><li data-v-9c39c939>ìš´ì˜ì‹œê°„: 09:00~18:00</li></ul></div></div></div>',1)),e("div",He,[e("button",{onClick:o[0]||(o[0]=(...k)=>i.goHome&&i.goHome(...k)),class:"back-btn"},"â† í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°")])])])])}const Pe=T(Ye,[["render",Le],["__scopeId","data-v-9c39c939"]]);export{Pe as default};
