import{_ as k,c as n,a as I,b as t,k as g,F as m,e as v,n as _,t as c,p as f,q as b,v as P,s as w,h as C,A as p,l as y,m as F,u as G,f as r}from"./index-9yIbVlal.js";const D={name:"PhotoGallery",setup(){return{toast:G()}},data(){return{authStore:F,API_BASE_URL:p,activeCategory:"all",showUploadForm:!1,newPhoto:{title:"",description:"",categoryId:""},selectedFiles:[],draggedIndex:null,categories:[{id:"all",name:"ì „ì²´",count:24},{id:"cruise-education",name:"í¬ë£¨ì¦ˆ ìš”íŠ¸ êµìœ¡",count:8},{id:"cruise-experience",name:"í¬ë£¨ì¦ˆ ìš”íŠ¸ ì²´í—˜",count:6},{id:"dinghy-education",name:"ë”©ê¸° ìš”íŠ¸ êµìœ¡",count:5},{id:"dinghy-experience",name:"ë”©ê¸° ìš”íŠ¸ ì²´í—˜",count:3},{id:"paddleboard",name:"íŒ¨ë“¤ë³´ë“œ ì²´í—˜",count:2}],photos:[],selectedGallery:null,currentImageIndex:0,currentPage:1,itemsPerPage:9,totalItems:0}},computed:{filteredPhotos(){return this.activeCategory==="all"?this.photos:this.photos.filter(s=>s.categoryId===this.activeCategory)},isAdmin(){return this.authStore.state.isAuthenticated&&this.authStore.isAdmin()},totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}},methods:{setActiveCategory(s){this.activeCategory=s,this.currentPage=1,this.loadPhotos()},goToPage(s){s>=1&&s<=this.totalPages&&(this.currentPage=s,this.loadPhotos(),window.scrollTo({top:0,behavior:"smooth"}))},nextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)},prevPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)},getCategoryName(s){const e=this.categories.find(a=>a.id===s);return e?e.name:""},async selectGallery(s){try{const e=await y.get(`${p}/api/photos/${s.id}`);this.selectedGallery=e.data,this.currentImageIndex=0}catch(e){console.error("Failed to load gallery details:",e),this.toast.error("ê°¤ëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.","âŒ ë¡œë“œ ì‹¤íŒ¨")}},prevImage(){this.currentImageIndex>0&&this.currentImageIndex--},nextImage(){this.selectedGallery&&this.currentImageIndex<this.selectedGallery.photos.length-1&&this.currentImageIndex++},setCurrentImage(s){this.currentImageIndex=s},closeViewer(){this.selectedGallery=null,this.currentImageIndex=0},handleFileSelection(s){const e=Array.from(s.target.files);if(e.length>20){this.toast.warning("ìµœëŒ€ 20ê°œì˜ íŒŒì¼ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.","ğŸ“ íŒŒì¼ ìˆ˜ ì œí•œ");return}this.selectedFiles=[],e.forEach(a=>{if(a.size>100*1024*1024){this.toast.error(`${a.name}ì€(ëŠ”) íŒŒì¼ í¬ê¸°ê°€ 100MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.`,"âš ï¸ íŒŒì¼ í¬ê¸° ì´ˆê³¼");return}if(!a.type.startsWith("image/")){this.toast.error(`${a.name}ì€(ëŠ”) ì´ë¯¸ì§€ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.`,"âš ï¸ íŒŒì¼ í˜•ì‹ ì˜¤ë¥˜");return}const h=new FileReader;h.onload=l=>{this.selectedFiles.push({file:a,name:a.name,size:a.size,preview:l.target.result})},h.readAsDataURL(a)})},removeFile(s){this.selectedFiles.splice(s,1)},moveFile(s,e){if(e==="up"&&s>0){const a=this.selectedFiles[s];this.selectedFiles.splice(s,1),this.selectedFiles.splice(s-1,0,a)}else if(e==="down"&&s<this.selectedFiles.length-1){const a=this.selectedFiles[s];this.selectedFiles.splice(s,1),this.selectedFiles.splice(s+1,0,a)}},onDragStart(s,e){this.draggedIndex=s,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",s.toString())},onDragEnter(s){s.preventDefault()},onDragOver(s){s.preventDefault(),s.dataTransfer.dropEffect="move"},onDragLeave(s){s.preventDefault()},onDrop(s,e){if(e.preventDefault(),this.draggedIndex!==null&&this.draggedIndex!==s){const a=this.selectedFiles[this.draggedIndex];this.selectedFiles.splice(this.draggedIndex,1),this.selectedFiles.splice(s,0,a)}},onDragEnd(){this.draggedIndex=null},formatFileSize(s){if(s===0)return"0 Bytes";const e=1024,a=["Bytes","KB","MB","GB"],h=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,h)).toFixed(2))+" "+a[h]},updateCategoryCounts(){this.categories.forEach(s=>{s.id==="all"?s.count=this.photos.length:s.count=this.photos.filter(e=>e.categoryId===s.id).length})},managePhotos(){console.log("Manage photos")},truncateDescription(s){if(!s)return"";const e=s.split(`
`),a=e.slice(0,2).join(`
`);return e.length>2?a+"...":a.length>100?a.substring(0,100)+"...":a},async editGallery(s){this.$router.push(`/community/photo-gallery/edit/${s.id}`)},async deleteGallery(s){if(confirm(`"${s.title}" ê°¤ëŸ¬ë¦¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?
í¬í•¨ëœ ëª¨ë“  ì‚¬ì§„ì´ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.`))try{await y.delete(`${p}/api/photos/${s.id}`,{headers:{Authorization:`Bearer ${this.authStore.state.token}`}}),this.toast.success("ê°¤ëŸ¬ë¦¬ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.","ğŸ—‘ï¸ ì‚­ì œ ì™„ë£Œ"),await this.loadPhotos()}catch(e){console.error("ê°¤ëŸ¬ë¦¬ ì‚­ì œ ì‹¤íŒ¨:",e),e.response?.status===401?this.toast.urgent("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.","ğŸ” ë¡œê·¸ì¸ í•„ìš”"):e.response?.status===403?this.toast.urgent("ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.","âš ï¸ ê¶Œí•œ ì—†ìŒ"):this.toast.error("ê°¤ëŸ¬ë¦¬ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.","âŒ ì‚­ì œ ì‹¤íŒ¨")}},goBack(){this.$router.push("/community")},async loadPhotos(){try{const s=(this.currentPage-1)*this.itemsPerPage,e={limit:this.itemsPerPage,offset:s};this.activeCategory!=="all"&&(e.category=this.activeCategory),console.log("Loading photos with params:",e);const a=await y.get(`${p}/api/photos`,{params:e});console.log("Photos response:",a.data),this.photos=(a.data||[]).map(h=>({id:h.id,title:h.title,description:h.description,categoryId:h.category_id,date:h.created_at?h.created_at.split("T")[0]:new Date().toISOString().split("T")[0],url:h.url,photo_count:h.photo_count||0})),await this.loadTotalCount(),this.updateCategoryCounts(),console.log("Photos loaded:",this.photos.length)}catch(s){console.error("Failed to load photos:",s),this.photos=[],this.totalItems=0,this.updateCategoryCounts(),console.warn("API server may not be running. Photos will be empty.")}},async loadTotalCount(){try{const s={};this.activeCategory!=="all"&&(s.category=this.activeCategory);const e=await y.get(`${p}/api/photos`,{params:{...s,limit:1e3}});this.totalItems=e.data?.length||0}catch(s){console.error("Failed to load total count:",s),this.totalItems=0}},async uploadPhoto(){if(this.selectedFiles.length===0){this.toast.warning("ì‚¬ì§„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.","ğŸ“· ì‚¬ì§„ ì„ íƒ í•„ìš”");return}if(!this.newPhoto.title||!this.newPhoto.categoryId){this.toast.warning("ì œëª©ê³¼ ì¹´í…Œê³ ë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.","âœï¸ ì •ë³´ ì…ë ¥ í•„ìš”");return}try{console.log("Starting photo upload..."),console.log("Selected files:",this.selectedFiles),console.log("Form data:",this.newPhoto);const s=new FormData;s.append("title",this.newPhoto.title),s.append("description",this.newPhoto.description),s.append("category_id",this.newPhoto.categoryId),this.selectedFiles.forEach(l=>{console.log("Adding file:",l.name,l.size,l.file.type),s.append("photos",l.file)}),console.log("FormData entries:");for(let[l,i]of s.entries())console.log(l,":",i);const e=localStorage.getItem("token");console.log("Token exists:",!!e),console.log("Upload URL:",`${p}/api/photos`);const a=await y.post(`${p}/api/photos`,s,{headers:{Authorization:`Bearer ${e}`}});console.log("Upload response:",a.data),await this.loadPhotos();const h=this.selectedFiles.length;this.toast.celebrate(`${h>1?h+"ê°œì˜ ":""}ì‚¬ì§„ì´ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`,"ğŸ“¸ ì‚¬ì§„ ì—…ë¡œë“œ ì™„ë£Œ"),this.showUploadForm=!1,this.newPhoto={title:"",description:"",categoryId:""},this.selectedFiles=[],this.$refs.photoFileInput.value=""}catch(s){console.error("Upload error details:",s),console.error("Error response:",s.response?.data),console.error("Error status:",s.response?.status);let e="ì‚¬ì§„ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.";s.response?.status===401?e="ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.":s.response?.status===403?e="ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.":s.response?.status===413?e="íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤.":s.response?.data?.error&&(e=s.response.data.error),this.toast.error(e,"âŒ ì—…ë¡œë“œ ì‹¤íŒ¨")}}},mounted(){this.loadPhotos()}},A={class:"photo-gallery"},S={class:"content-section"},x={class:"container"},B={class:"gallery-categories"},U={class:"category-tabs"},E=["onClick"],T={key:0,class:"photo-grid"},M=["onClick"],z=["src","alt"],L={key:1,class:"photo-placeholder"},V={key:2,class:"photo-count-badge"},N={class:"photo-info"},R=["onClick"],q={class:"description-text"},O={class:"photo-meta"},j={class:"date"},J={class:"category"},K={key:0,class:"admin-actions"},H=["onClick"],Q=["onClick"],X={key:0,class:"empty-state"},Y={key:1,class:"pagination"},Z=["disabled"],W={class:"pagination-pages"},$=["onClick"],ee=["disabled"],te={key:2,class:"gallery-layout"},se={class:"gallery-info-card"},oe={class:"info-header"},le={class:"info-content"},ie={class:"info-image-preview"},ne=["src","alt"],re={class:"info-details"},ae={class:"info-meta"},de={class:"info-date"},ce={class:"info-category"},he={key:0,class:"info-count"},ue={class:"info-description"},ge={key:0},pe={key:1,class:"no-description"},me={key:0,class:"info-thumbnails"},ve={class:"thumbnails-grid"},ye=["onClick"],_e=["src","alt"],fe={class:"thumbnail-number"},be={class:"viewer-card"},Pe={class:"viewer-image-container"},ke=["disabled"],Ie=["src","alt"],we=["disabled"],Ce={key:3,class:"viewer-counter"},Fe={key:3,class:"admin-section"},Ge={class:"admin-buttons"},De={key:4,class:"upload-form"},Ae={class:"form-header"},Se={class:"form-group"},xe={class:"form-group"},Be={class:"form-group"},Ue=["value"],Ee={class:"form-group"},Te={key:0,class:"selected-files"},Me={class:"file-list"},ze=["onDragstart","onDrop"],Le={class:"file-order"},Ve={class:"file-preview"},Ne=["src","alt"],Re={key:1,class:"no-preview"},qe={class:"file-info"},Oe={class:"file-name"},je={class:"file-size"},Je={class:"file-controls"},Ke=["onClick","disabled"],He=["onClick","disabled"],Qe=["onClick"],Xe={class:"form-actions"},Ye={class:"back-button"};function Ze(s,e,a,h,l,i){return r(),n("div",A,[e[34]||(e[34]=I('<section class="hero-section" data-v-520600ad><div class="hero-background" data-v-520600ad></div><div class="hero-overlay" data-v-520600ad></div><div class="hero-content" data-v-520600ad><h1 class="hero-title" data-v-520600ad>í¬í† ê°¤ëŸ¬ë¦¬</h1><p class="hero-subtitle" data-v-520600ad>í†µì˜ìš”íŠ¸í•™êµì˜ ìƒìƒí•œ ìˆœê°„ë“¤ì„ ì‚¬ì§„ìœ¼ë¡œ ë§Œë‚˜ë³´ì„¸ìš”</p></div></section>',1)),t("section",S,[t("div",x,[e[33]||(e[33]=t("div",{class:"gallery-header"},[t("div",{class:"header-info"},[t("h2",null,"ì‚¬ì§„ ê°¤ëŸ¬ë¦¬"),t("p",null,"ë‹¤ì–‘í•œ êµìœ¡ í™œë™ê³¼ ì²´í—˜ í˜„ì¥ì˜ ëª¨ìŠµì„ ë‹´ì•˜ìŠµë‹ˆë‹¤.")])],-1)),t("div",B,[t("div",U,[(r(!0),n(m,null,v(l.categories,o=>(r(),n("button",{key:o.id,class:_(["tab-button",{active:l.activeCategory===o.id}]),onClick:d=>i.setActiveCategory(o.id)},c(o.name)+" ("+c(o.count)+") ",11,E))),128))])]),l.selectedGallery?g("",!0):(r(),n("div",T,[(r(!0),n(m,null,v(i.filteredPhotos,o=>(r(),n("div",{key:o.id,class:"photo-card"},[t("div",{class:"photo-container",onClick:d=>i.selectGallery(o)},[o.url?(r(),n("img",{key:0,src:`${l.API_BASE_URL}${o.url}`,alt:o.title,class:"photo-image"},null,8,z)):(r(),n("div",L,e[19]||(e[19]=[t("div",{class:"placeholder-icon"},"ğŸ“·",-1),t("div",{class:"placeholder-text"},"ì‚¬ì§„ ì—†ìŒ",-1)]))),o.photo_count>1?(r(),n("div",V,c(o.photo_count)+"ì¥ ",1)):g("",!0)],8,M),t("div",N,[t("div",{onClick:d=>i.selectGallery(o),style:{cursor:"pointer"}},[t("h4",null,c(o.title),1),t("p",q,c(i.truncateDescription(o.description)),1),t("div",O,[t("span",j,c(o.date),1),t("span",J,c(i.getCategoryName(o.categoryId)),1)])],8,R),i.isAdmin?(r(),n("div",K,[t("button",{onClick:f(d=>i.editGallery(o),["stop"]),class:"edit-btn",title:"í¸ì§‘"}," âœï¸ í¸ì§‘ ",8,H),t("button",{onClick:f(d=>i.deleteGallery(o),["stop"]),class:"delete-btn",title:"ì‚­ì œ"}," ğŸ—‘ï¸ ì‚­ì œ ",8,Q)])):g("",!0)])]))),128)),i.filteredPhotos.length===0?(r(),n("div",X,e[20]||(e[20]=[t("div",{class:"empty-icon"},"ğŸ“¸",-1),t("h3",null,"ì•„ì§ ì‚¬ì§„ì´ ì—†ìŠµë‹ˆë‹¤",-1),t("p",null,"ê´€ë¦¬ìê°€ ê³§ ë©‹ì§„ ì‚¬ì§„ë“¤ì„ ì—…ë¡œë“œí•  ì˜ˆì •ì…ë‹ˆë‹¤.",-1)]))):g("",!0)])),i.totalPages>1?(r(),n("div",Y,[t("button",{class:"pagination-btn",onClick:e[0]||(e[0]=(...o)=>i.prevPage&&i.prevPage(...o)),disabled:l.currentPage===1}," â€¹ ì´ì „ ",8,Z),t("div",W,[(r(!0),n(m,null,v(i.totalPages,o=>(r(),n("button",{key:o,class:_(["pagination-page",{active:o===l.currentPage}]),onClick:d=>i.goToPage(o)},c(o),11,$))),128))]),t("button",{class:"pagination-btn",onClick:e[1]||(e[1]=(...o)=>i.nextPage&&i.nextPage(...o)),disabled:l.currentPage===i.totalPages}," ë‹¤ìŒ â€º ",8,ee)])):(r(),n("div",te,[t("div",se,[t("div",oe,[t("button",{class:"back-to-grid-btn",onClick:e[2]||(e[2]=(...o)=>i.closeViewer&&i.closeViewer(...o))},"â† ì „ì²´ ê°¤ëŸ¬ë¦¬ë¡œ ëŒì•„ê°€ê¸°")]),t("div",le,[t("div",ie,[l.selectedGallery.photos&&l.selectedGallery.photos.length>0?(r(),n("img",{key:0,src:`${l.API_BASE_URL}${l.selectedGallery.photos[l.currentImageIndex].url}`,alt:l.selectedGallery.title,class:"preview-image"},null,8,ne)):g("",!0)]),t("div",re,[t("h3",null,c(l.selectedGallery.title),1),t("div",ae,[t("span",de,"ğŸ“… "+c(l.selectedGallery.date),1),t("span",ce,c(i.getCategoryName(l.selectedGallery.categoryId)),1),l.selectedGallery.photos?(r(),n("span",he,c(l.selectedGallery.photos.length)+"ì¥",1)):g("",!0)]),t("div",ue,[e[21]||(e[21]=t("h4",null,"ìƒì„¸ ì„¤ëª…",-1)),l.selectedGallery.description?(r(),n("p",ge,c(l.selectedGallery.description),1)):(r(),n("p",pe,"ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤."))])]),l.selectedGallery.photos&&l.selectedGallery.photos.length>0?(r(),n("div",me,[t("h4",null,"ì´ë¯¸ì§€ ëª©ë¡ ("+c(l.selectedGallery.photos.length)+"ì¥)",1),t("div",ve,[(r(!0),n(m,null,v(l.selectedGallery.photos,(o,d)=>(r(),n("div",{key:o.id,class:_(["thumbnail-item",{active:d===l.currentImageIndex}]),onClick:u=>i.setCurrentImage(d)},[t("img",{src:`${l.API_BASE_URL}${o.url}`,alt:`ì´ë¯¸ì§€ ${d+1}`},null,8,_e),t("div",fe,c(d+1),1)],10,ye))),128))])])):g("",!0)])]),t("div",be,[t("div",Pe,[l.selectedGallery.photos&&l.selectedGallery.photos.length>1?(r(),n("button",{key:0,class:"viewer-btn prev-btn",onClick:e[3]||(e[3]=(...o)=>i.prevImage&&i.prevImage(...o)),disabled:l.currentImageIndex===0},"â€¹",8,ke)):g("",!0),l.selectedGallery.photos&&l.selectedGallery.photos.length>0?(r(),n("img",{key:1,src:`${l.API_BASE_URL}${l.selectedGallery.photos[l.currentImageIndex].url}`,alt:l.selectedGallery.title,class:"viewer-image"},null,8,Ie)):g("",!0),l.selectedGallery.photos&&l.selectedGallery.photos.length>1?(r(),n("button",{key:2,class:"viewer-btn next-btn",onClick:e[4]||(e[4]=(...o)=>i.nextImage&&i.nextImage(...o)),disabled:l.currentImageIndex===l.selectedGallery.photos.length-1},"â€º",8,we)):g("",!0),l.selectedGallery.photos&&l.selectedGallery.photos.length>1?(r(),n("div",Ce,c(l.currentImageIndex+1)+" / "+c(l.selectedGallery.photos.length),1)):g("",!0)])])])),i.isAdmin?(r(),n("div",Fe,[e[22]||(e[22]=t("h3",null,"ê´€ë¦¬ì ê¸°ëŠ¥",-1)),t("div",Ge,[t("button",{class:"admin-btn upload-btn",onClick:e[5]||(e[5]=o=>l.showUploadForm=!0)}," ğŸ“· ì‚¬ì§„ ì—…ë¡œë“œ "),t("button",{class:"admin-btn manage-btn",onClick:e[6]||(e[6]=(...o)=>i.managePhotos&&i.managePhotos(...o))}," ğŸ—‚ï¸ ì‚¬ì§„ ê´€ë¦¬ ")])])):g("",!0),l.showUploadForm&&i.isAdmin?(r(),n("div",De,[t("div",Ae,[e[23]||(e[23]=t("h3",null,"ì‚¬ì§„ ì—…ë¡œë“œ",-1)),t("button",{class:"close-btn",onClick:e[7]||(e[7]=o=>l.showUploadForm=!1)},"âœ•")]),t("form",{onSubmit:e[17]||(e[17]=f((...o)=>i.uploadPhoto&&i.uploadPhoto(...o),["prevent"]))},[t("div",Se,[e[24]||(e[24]=t("label",null,"ì œëª©",-1)),b(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>l.newPhoto.title=o),type:"text",required:""},null,512),[[P,l.newPhoto.title]])]),t("div",xe,[e[25]||(e[25]=t("label",null,"ì„¤ëª…",-1)),b(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=o=>l.newPhoto.description=o),rows:"3"},null,512),[[P,l.newPhoto.description]])]),t("div",Be,[e[27]||(e[27]=t("label",null,"ì¹´í…Œê³ ë¦¬",-1)),b(t("select",{"onUpdate:modelValue":e[10]||(e[10]=o=>l.newPhoto.categoryId=o),required:""},[e[26]||(e[26]=t("option",{value:""},"ì¹´í…Œê³ ë¦¬ ì„ íƒ",-1)),(r(!0),n(m,null,v(l.categories.filter(o=>o.id!=="all"),o=>(r(),n("option",{key:o.id,value:o.id},c(o.name),9,Ue))),128))],512),[[w,l.newPhoto.categoryId]])]),t("div",Ee,[e[28]||(e[28]=t("label",null,"ì‚¬ì§„ íŒŒì¼",-1)),t("input",{type:"file",accept:"image/*",multiple:"",onChange:e[11]||(e[11]=(...o)=>i.handleFileSelection&&i.handleFileSelection(...o)),ref:"photoFileInput"},null,544),e[29]||(e[29]=t("small",null,"ì§€ì› í˜•ì‹: JPG, PNG, GIF (ìµœëŒ€ 100MB, ìµœëŒ€ 20ê°œ íŒŒì¼)",-1))]),l.selectedFiles.length>0?(r(),n("div",Te,[e[31]||(e[31]=t("h4",null,[C("ì„ íƒëœ íŒŒì¼: "),t("small",null,"(ë“œë˜ê·¸í•´ì„œ ìˆœì„œ ë³€ê²½ ê°€ëŠ¥)")],-1)),t("div",Me,[(r(!0),n(m,null,v(l.selectedFiles,(o,d)=>(r(),n("div",{key:`file-${d}-${o.name}`,class:_(["file-item",{dragging:l.draggedIndex===d}]),draggable:"true",onDragstart:u=>i.onDragStart(d,u),onDragover:e[12]||(e[12]=u=>i.onDragOver(u)),onDragenter:e[13]||(e[13]=u=>i.onDragEnter(u)),onDragleave:e[14]||(e[14]=u=>i.onDragLeave(u)),onDrop:u=>i.onDrop(d,u),onDragend:e[15]||(e[15]=(...u)=>i.onDragEnd&&i.onDragEnd(...u))},[e[30]||(e[30]=t("div",{class:"drag-handle"},"â‹®â‹®",-1)),t("div",Le,c(d+1),1),t("div",Ve,[o.preview?(r(),n("img",{key:0,src:o.preview,alt:o.name},null,8,Ne)):(r(),n("div",Re,"ğŸ“·"))]),t("div",qe,[t("span",Oe,c(o.name),1),t("span",je,c(i.formatFileSize(o.size)),1)]),t("div",Je,[t("button",{type:"button",onClick:u=>i.moveFile(d,"up"),disabled:d===0,class:"move-btn up-btn",title:"ìœ„ë¡œ ì´ë™"},"â†‘",8,Ke),t("button",{type:"button",onClick:u=>i.moveFile(d,"down"),disabled:d===l.selectedFiles.length-1,class:"move-btn down-btn",title:"ì•„ë˜ë¡œ ì´ë™"},"â†“",8,He),t("button",{type:"button",onClick:u=>i.removeFile(d),class:"remove-file"},"âœ•",8,Qe)])],42,ze))),128))])])):g("",!0),t("div",Xe,[t("button",{type:"button",class:"cancel-btn",onClick:e[16]||(e[16]=o=>l.showUploadForm=!1)}," ì·¨ì†Œ "),e[32]||(e[32]=t("button",{type:"submit",class:"upload-btn"},"ì—…ë¡œë“œ",-1))])],32)])):g("",!0)])]),t("div",Ye,[t("button",{onClick:e[18]||(e[18]=(...o)=>i.goBack&&i.goBack(...o)),class:"back-btn"}," â† ì»¤ë®¤ë‹ˆí‹°ë¡œ ëŒì•„ê°€ê¸° ")])])}const $e=k(D,[["render",Ze],["__scopeId","data-v-520600ad"]]);export{$e as default};
